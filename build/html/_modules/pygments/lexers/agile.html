

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pygments.lexers.agile &mdash; pygments-doc 1.1.3 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="pygments-doc 1.1.3 documentation" href="../../../index.html" />
    <link rel="up" title="pygments.lexers" href="../lexers.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">pygments-doc 1.1.3 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li>
          <li><a href="../../pygments.html" >pygments</a> &raquo;</li>
          <li><a href="../lexers.html" accesskey="U">pygments.lexers</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for pygments.lexers.agile</h1><div class="highlight"><pre>
<span class="c"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    pygments.lexers.agile</span>
<span class="sd">    ~~~~~~~~~~~~~~~~~~~~~</span>

<span class="sd">    Lexers for agile languages.</span>

<span class="sd">    :copyright: Copyright 2006-2013 by the Pygments team, see AUTHORS.</span>
<span class="sd">    :license: BSD, see LICENSE for details.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">re</span>

<span class="kn">from</span> <span class="nn">pygments.lexer</span> <span class="kn">import</span> <span class="n">Lexer</span><span class="p">,</span> <span class="n">RegexLexer</span><span class="p">,</span> <span class="n">ExtendedRegexLexer</span><span class="p">,</span> \
     <span class="n">LexerContext</span><span class="p">,</span> <span class="n">include</span><span class="p">,</span> <span class="n">combined</span><span class="p">,</span> <span class="n">do_insertions</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">,</span> <span class="n">using</span>
<span class="kn">from</span> <span class="nn">pygments.token</span> <span class="kn">import</span> <span class="n">Error</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Other</span><span class="p">,</span> \
     <span class="n">Comment</span><span class="p">,</span> <span class="n">Operator</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Name</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Number</span><span class="p">,</span> <span class="n">Generic</span><span class="p">,</span> <span class="n">Punctuation</span>
<span class="kn">from</span> <span class="nn">pygments.util</span> <span class="kn">import</span> <span class="n">get_bool_opt</span><span class="p">,</span> <span class="n">get_list_opt</span><span class="p">,</span> <span class="n">shebang_matches</span>
<span class="kn">from</span> <span class="nn">pygments</span> <span class="kn">import</span> <span class="n">unistring</span> <span class="k">as</span> <span class="n">uni</span>


<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;PythonLexer&#39;</span><span class="p">,</span> <span class="s">&#39;PythonConsoleLexer&#39;</span><span class="p">,</span> <span class="s">&#39;PythonTracebackLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;Python3Lexer&#39;</span><span class="p">,</span> <span class="s">&#39;Python3TracebackLexer&#39;</span><span class="p">,</span> <span class="s">&#39;RubyLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;RubyConsoleLexer&#39;</span><span class="p">,</span> <span class="s">&#39;PerlLexer&#39;</span><span class="p">,</span> <span class="s">&#39;LuaLexer&#39;</span><span class="p">,</span> <span class="s">&#39;MoonScriptLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;CrocLexer&#39;</span><span class="p">,</span> <span class="s">&#39;MiniDLexer&#39;</span><span class="p">,</span> <span class="s">&#39;IoLexer&#39;</span><span class="p">,</span> <span class="s">&#39;TclLexer&#39;</span><span class="p">,</span> <span class="s">&#39;FactorLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;FancyLexer&#39;</span><span class="p">,</span> <span class="s">&#39;DgLexer&#39;</span><span class="p">]</span>

<span class="c"># b/w compatibility</span>
<span class="kn">from</span> <span class="nn">pygments.lexers.functional</span> <span class="kn">import</span> <span class="n">SchemeLexer</span>
<span class="kn">from</span> <span class="nn">pygments.lexers.jvm</span> <span class="kn">import</span> <span class="n">IokeLexer</span><span class="p">,</span> <span class="n">ClojureLexer</span>

<span class="n">line_re</span>  <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&#39;.*?</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>


<div class="viewcode-block" id="PythonLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.PythonLexer">[docs]</a><span class="k">class</span> <span class="nc">PythonLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For `Python &lt;http://www.python.org&gt;`_ source code.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Python&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;python&#39;</span><span class="p">,</span> <span class="s">&#39;py&#39;</span><span class="p">,</span> <span class="s">&#39;sage&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.py&#39;</span><span class="p">,</span> <span class="s">&#39;*.pyw&#39;</span><span class="p">,</span> <span class="s">&#39;*.sc&#39;</span><span class="p">,</span> <span class="s">&#39;SConstruct&#39;</span><span class="p">,</span> <span class="s">&#39;SConscript&#39;</span><span class="p">,</span> <span class="s">&#39;*.tac&#39;</span><span class="p">,</span> <span class="s">&#39;*.sage&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-python&#39;</span><span class="p">,</span> <span class="s">&#39;application/x-python&#39;</span><span class="p">]</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\n&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;^(\s*)([rRuU]{,2}&quot;&quot;&quot;(?:.|\n)*?&quot;&quot;&quot;)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Doc</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&quot;^(\s*)([rRuU]{,2}&#39;&#39;&#39;(?:.|\n)*?&#39;&#39;&#39;)&quot;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Doc</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;[^\S\n]+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;#.*$&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[]{}:(),;[]&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">\n&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(in|is|and|or|not)\b&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">Word</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;!=|==|&lt;&lt;|&gt;&gt;|[-~+/*%=&lt;&gt;&amp;^|.]&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;keywords&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(def)((?:\s|</span><span class="se">\\</span><span class="s">\s)+)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span> <span class="s">&#39;funcname&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(class)((?:\s|</span><span class="se">\\</span><span class="s">\s)+)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span> <span class="s">&#39;classname&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(from)((?:\s|</span><span class="se">\\</span><span class="s">\s)+)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
             <span class="s">&#39;fromimport&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(import)((?:\s|</span><span class="se">\\</span><span class="s">\s)+)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
             <span class="s">&#39;import&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;builtins&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;backtick&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;(?:[rR]|[uU][rR]|[rR][uU])&quot;&quot;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;tdqs&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&quot;(?:[rR]|[uU][rR]|[rR][uU])&#39;&#39;&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;tsqs&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;(?:[rR]|[uU][rR]|[rR][uU])&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;dqs&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&quot;(?:[rR]|[uU][rR]|[rR][uU])&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;sqs&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;[uU]?&quot;&quot;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">combined</span><span class="p">(</span><span class="s">&#39;stringescape&#39;</span><span class="p">,</span> <span class="s">&#39;tdqs&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">&quot;[uU]?&#39;&#39;&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">combined</span><span class="p">(</span><span class="s">&#39;stringescape&#39;</span><span class="p">,</span> <span class="s">&#39;tsqs&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">&#39;[uU]?&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">combined</span><span class="p">(</span><span class="s">&#39;stringescape&#39;</span><span class="p">,</span> <span class="s">&#39;dqs&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">&quot;[uU]?&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">combined</span><span class="p">(</span><span class="s">&#39;stringescape&#39;</span><span class="p">,</span> <span class="s">&#39;sqs&#39;</span><span class="p">)),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;name&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;numbers&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;keywords&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;(assert|break|continue|del|elif|else|except|exec|&#39;</span>
             <span class="s">r&#39;finally|for|global|if|lambda|pass|print|raise|&#39;</span>
             <span class="s">r&#39;return|try|while|yield(\s+from)?|as|with)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;builtins&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;!\.)(__import__|abs|all|any|apply|basestring|bin|bool|buffer|&#39;</span>
             <span class="s">r&#39;bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|&#39;</span>
             <span class="s">r&#39;complex|delattr|dict|dir|divmod|enumerate|eval|execfile|exit|&#39;</span>
             <span class="s">r&#39;file|filter|float|frozenset|getattr|globals|hasattr|hash|hex|id|&#39;</span>
             <span class="s">r&#39;input|int|intern|isinstance|issubclass|iter|len|list|locals|&#39;</span>
             <span class="s">r&#39;long|map|max|min|next|object|oct|open|ord|pow|property|range|&#39;</span>
             <span class="s">r&#39;raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|&#39;</span>
             <span class="s">r&#39;sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|&#39;</span>
             <span class="s">r&#39;vars|xrange|zip)\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;!\.)(self|None|Ellipsis|NotImplemented|False|True&#39;</span>
             <span class="s">r&#39;)\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="o">.</span><span class="n">Pseudo</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;!\.)(ArithmeticError|AssertionError|AttributeError|&#39;</span>
             <span class="s">r&#39;BaseException|DeprecationWarning|EOFError|EnvironmentError|&#39;</span>
             <span class="s">r&#39;Exception|FloatingPointError|FutureWarning|GeneratorExit|IOError|&#39;</span>
             <span class="s">r&#39;ImportError|ImportWarning|IndentationError|IndexError|KeyError|&#39;</span>
             <span class="s">r&#39;KeyboardInterrupt|LookupError|MemoryError|NameError|&#39;</span>
             <span class="s">r&#39;NotImplemented|NotImplementedError|OSError|OverflowError|&#39;</span>
             <span class="s">r&#39;OverflowWarning|PendingDeprecationWarning|ReferenceError|&#39;</span>
             <span class="s">r&#39;RuntimeError|RuntimeWarning|StandardError|StopIteration|&#39;</span>
             <span class="s">r&#39;SyntaxError|SyntaxWarning|SystemError|SystemExit|TabError|&#39;</span>
             <span class="s">r&#39;TypeError|UnboundLocalError|UnicodeDecodeError|&#39;</span>
             <span class="s">r&#39;UnicodeEncodeError|UnicodeError|UnicodeTranslateError|&#39;</span>
             <span class="s">r&#39;UnicodeWarning|UserWarning|ValueError|VMSError|Warning|&#39;</span>
             <span class="s">r&#39;WindowsError|ZeroDivisionError)\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Exception</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;numbers&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;(\d+\.\d*|\d*\.\d+)([eE][+-]?[0-9]+)?j?&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\d+[eE][+-]?[0-9]+j?&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;0[0-7]+j?&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Oct</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;0[xX][a-fA-F0-9]+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Hex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\d+L&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Integer</span><span class="o">.</span><span class="n">Long</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\d+j?&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Integer</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;backtick&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;`.*?`&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Backtick</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;@[a-zA-Z0-9_.]+&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Decorator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;[a-zA-Z_][a-zA-Z0-9_]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;funcname&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;[a-zA-Z_][a-zA-Z0-9_]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;classname&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;[a-zA-Z_][a-zA-Z0-9_]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;import&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;(?:[ \t]|</span><span class="se">\\</span><span class="s">\n)+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;as\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="o">.</span><span class="n">Namespace</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;,&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z_][a-zA-Z0-9_.]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span> <span class="c"># all else: go back</span>
        <span class="p">],</span>
        <span class="s">&#39;fromimport&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;(?:[ \t]|</span><span class="se">\\</span><span class="s">\n)+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;import\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="c"># if None occurs here, it&#39;s &quot;raise x from None&quot;, since None can</span>
            <span class="c"># never be a module name</span>
            <span class="p">(</span><span class="s">r&#39;None\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="o">.</span><span class="n">Pseudo</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="c"># sadly, in &quot;raise x from y&quot; y will be highlighted as namespace too</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z_.][a-zA-Z0-9_.]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">),</span>
            <span class="c"># anything else here also means &quot;raise x from y&quot; and is therefore</span>
            <span class="c"># not an error</span>
            <span class="p">(</span><span class="s">r&#39;&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;stringescape&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">([</span><span class="se">\\</span><span class="s">abfnrtv&quot;</span><span class="se">\&#39;</span><span class="s">]|\n|N{.*?}|u[a-fA-F0-9]{4}|&#39;</span>
             <span class="s">r&#39;U[a-fA-F0-9]{8}|x[a-fA-F0-9]{2}|[0-7]{1,3})&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Escape</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;strings&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;%(\([a-zA-Z0-9_]+\))?[-#0 +]*([0-9]+|[*])?(\.([0-9]+|[*]))?&#39;</span>
             <span class="s">&#39;[hlL]?[diouxXeEfFgGcrs%]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Interpol</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^</span><span class="se">\\\&#39;</span><span class="s">&quot;%\n]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="c"># quotes, percents and backslashes must be parsed one at a time</span>
            <span class="p">(</span><span class="s">r&#39;[</span><span class="se">\&#39;</span><span class="s">&quot;</span><span class="se">\\</span><span class="s">]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="c"># unhandled string formatting sign</span>
            <span class="p">(</span><span class="s">r&#39;%&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">)</span>
            <span class="c"># newlines are an error (use &quot;nl&quot; state)</span>
        <span class="p">],</span>
        <span class="s">&#39;nl&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\n&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;dqs&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&quot;|</span><span class="se">\\</span><span class="s">\n&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Escape</span><span class="p">),</span> <span class="c"># included here for raw strings</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;strings&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;sqs&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&quot;&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&#39;|</span><span class="se">\\</span><span class="s">\n&quot;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Escape</span><span class="p">),</span> <span class="c"># included here for raw strings</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;strings&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;tdqs&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;&quot;&quot;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;strings&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;nl&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;tsqs&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&quot;&#39;&#39;&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;strings&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;nl&#39;</span><span class="p">)</span>
        <span class="p">],</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">shebang_matches</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">r&#39;pythonw?(2(\.\d)?)?&#39;</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="Python3Lexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.Python3Lexer">[docs]</a><span class="k">class</span> <span class="nc">Python3Lexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For `Python &lt;http://www.python.org&gt;`_ source code (version 3.0).</span>

<span class="sd">    *New in Pygments 0.10.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Python 3&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;python3&#39;</span><span class="p">,</span> <span class="s">&#39;py3&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c"># Nothing until Python 3 gets widespread</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-python3&#39;</span><span class="p">,</span> <span class="s">&#39;application/x-python3&#39;</span><span class="p">]</span>

    <span class="n">flags</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">UNICODE</span>

    <span class="n">uni_name</span> <span class="o">=</span> <span class="s">&quot;[</span><span class="si">%s</span><span class="s">][</span><span class="si">%s</span><span class="s">]*&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">uni</span><span class="o">.</span><span class="n">xid_start</span><span class="p">,</span> <span class="n">uni</span><span class="o">.</span><span class="n">xid_continue</span><span class="p">)</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="n">PythonLexer</span><span class="o">.</span><span class="n">tokens</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">tokens</span><span class="p">[</span><span class="s">&#39;keywords&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s">r&#39;(assert|break|continue|del|elif|else|except|&#39;</span>
         <span class="s">r&#39;finally|for|global|if|lambda|pass|raise|nonlocal|&#39;</span>
         <span class="s">r&#39;return|try|while|yield(\s+from)?|as|with|True|False|None)\b&#39;</span><span class="p">,</span>
         <span class="n">Keyword</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">tokens</span><span class="p">[</span><span class="s">&#39;builtins&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s">r&#39;(?&lt;!\.)(__import__|abs|all|any|bin|bool|bytearray|bytes|&#39;</span>
         <span class="s">r&#39;chr|classmethod|cmp|compile|complex|delattr|dict|dir|&#39;</span>
         <span class="s">r&#39;divmod|enumerate|eval|filter|float|format|frozenset|getattr|&#39;</span>
         <span class="s">r&#39;globals|hasattr|hash|hex|id|input|int|isinstance|issubclass|&#39;</span>
         <span class="s">r&#39;iter|len|list|locals|map|max|memoryview|min|next|object|oct|&#39;</span>
         <span class="s">r&#39;open|ord|pow|print|property|range|repr|reversed|round|&#39;</span>
         <span class="s">r&#39;set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|&#39;</span>
         <span class="s">r&#39;vars|zip)\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
        <span class="p">(</span><span class="s">r&#39;(?&lt;!\.)(self|Ellipsis|NotImplemented)\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="o">.</span><span class="n">Pseudo</span><span class="p">),</span>
        <span class="p">(</span><span class="s">r&#39;(?&lt;!\.)(ArithmeticError|AssertionError|AttributeError|&#39;</span>
         <span class="s">r&#39;BaseException|BufferError|BytesWarning|DeprecationWarning|&#39;</span>
         <span class="s">r&#39;EOFError|EnvironmentError|Exception|FloatingPointError|&#39;</span>
         <span class="s">r&#39;FutureWarning|GeneratorExit|IOError|ImportError|&#39;</span>
         <span class="s">r&#39;ImportWarning|IndentationError|IndexError|KeyError|&#39;</span>
         <span class="s">r&#39;KeyboardInterrupt|LookupError|MemoryError|NameError|&#39;</span>
         <span class="s">r&#39;NotImplementedError|OSError|OverflowError|&#39;</span>
         <span class="s">r&#39;PendingDeprecationWarning|ReferenceError|&#39;</span>
         <span class="s">r&#39;RuntimeError|RuntimeWarning|StopIteration|&#39;</span>
         <span class="s">r&#39;SyntaxError|SyntaxWarning|SystemError|SystemExit|TabError|&#39;</span>
         <span class="s">r&#39;TypeError|UnboundLocalError|UnicodeDecodeError|&#39;</span>
         <span class="s">r&#39;UnicodeEncodeError|UnicodeError|UnicodeTranslateError|&#39;</span>
         <span class="s">r&#39;UnicodeWarning|UserWarning|ValueError|VMSError|Warning|&#39;</span>
         <span class="s">r&#39;WindowsError|ZeroDivisionError)\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Exception</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">tokens</span><span class="p">[</span><span class="s">&#39;numbers&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s">r&#39;(\d+\.\d*|\d*\.\d+)([eE][+-]?[0-9]+)?&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
        <span class="p">(</span><span class="s">r&#39;0[oO][0-7]+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Oct</span><span class="p">),</span>
        <span class="p">(</span><span class="s">r&#39;0[bB][01]+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Bin</span><span class="p">),</span>
        <span class="p">(</span><span class="s">r&#39;0[xX][a-fA-F0-9]+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Hex</span><span class="p">),</span>
        <span class="p">(</span><span class="s">r&#39;\d+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Integer</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="n">tokens</span><span class="p">[</span><span class="s">&#39;backtick&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">tokens</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s">r&#39;@[a-zA-Z0-9_]+&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Decorator</span><span class="p">),</span>
        <span class="p">(</span><span class="n">uni_name</span><span class="p">,</span> <span class="n">Name</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="n">tokens</span><span class="p">[</span><span class="s">&#39;funcname&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">uni_name</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="n">tokens</span><span class="p">[</span><span class="s">&#39;classname&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="n">uni_name</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="n">tokens</span><span class="p">[</span><span class="s">&#39;import&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s">r&#39;(\s+)(as)(\s+)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">)),</span>
        <span class="p">(</span><span class="s">r&#39;\.&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">),</span>
        <span class="p">(</span><span class="n">uni_name</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">),</span>
        <span class="p">(</span><span class="s">r&#39;(\s*)(,)(\s*)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Operator</span><span class="p">,</span> <span class="n">Text</span><span class="p">)),</span>
        <span class="p">(</span><span class="s">r&#39;&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span> <span class="c"># all else: go back</span>
    <span class="p">]</span>
    <span class="n">tokens</span><span class="p">[</span><span class="s">&#39;fromimport&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s">r&#39;(\s+)(import)\b&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="s">r&#39;\.&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">),</span>
        <span class="p">(</span><span class="n">uni_name</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">),</span>
        <span class="p">(</span><span class="s">r&#39;&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="c"># don&#39;t highlight &quot;%s&quot; substitutions</span>
    <span class="n">tokens</span><span class="p">[</span><span class="s">&#39;strings&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s">r&#39;[^</span><span class="se">\\\&#39;</span><span class="s">&quot;%\n]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
        <span class="c"># quotes, percents and backslashes must be parsed one at a time</span>
        <span class="p">(</span><span class="s">r&#39;[</span><span class="se">\&#39;</span><span class="s">&quot;</span><span class="se">\\</span><span class="s">]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
        <span class="c"># unhandled string formatting sign</span>
        <span class="p">(</span><span class="s">r&#39;%&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">)</span>
        <span class="c"># newlines are an error (use &quot;nl&quot; state)</span>
    <span class="p">]</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">shebang_matches</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">r&#39;pythonw?3(\.\d)?&#39;</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="PythonConsoleLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.PythonConsoleLexer">[docs]</a><span class="k">class</span> <span class="nc">PythonConsoleLexer</span><span class="p">(</span><span class="n">Lexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For Python console output or doctests, such as:</span>

<span class="sd">    .. sourcecode:: pycon</span>

<span class="sd">        &gt;&gt;&gt; a = &#39;foo&#39;</span>
<span class="sd">        &gt;&gt;&gt; print a</span>
<span class="sd">        foo</span>
<span class="sd">        &gt;&gt;&gt; 1 / 0</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">          File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span>
<span class="sd">        ZeroDivisionError: integer division or modulo by zero</span>

<span class="sd">    Additional options:</span>

<span class="sd">    `python3`</span>
<span class="sd">        Use Python 3 lexer for code.  Default is ``False``.</span>
<span class="sd">        *New in Pygments 1.0.*</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Python console session&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;pycon&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-python-doctest&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">python3</span> <span class="o">=</span> <span class="n">get_bool_opt</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s">&#39;python3&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="n">Lexer</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_tokens_unprocessed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">python3</span><span class="p">:</span>
            <span class="n">pylexer</span> <span class="o">=</span> <span class="n">Python3Lexer</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>
            <span class="n">tblexer</span> <span class="o">=</span> <span class="n">Python3TracebackLexer</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pylexer</span> <span class="o">=</span> <span class="n">PythonLexer</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>
            <span class="n">tblexer</span> <span class="o">=</span> <span class="n">PythonTracebackLexer</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>

        <span class="n">curcode</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
        <span class="n">insertions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">curtb</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
        <span class="n">tbindex</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">tb</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">line_re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">u&#39;&gt;&gt;&gt; &#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">u&#39;... &#39;</span><span class="p">):</span>
                <span class="n">tb</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">insertions</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">curcode</span><span class="p">),</span>
                                   <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="n">Generic</span><span class="o">.</span><span class="n">Prompt</span><span class="p">,</span> <span class="n">line</span><span class="p">[:</span><span class="mi">4</span><span class="p">])]))</span>
                <span class="n">curcode</span> <span class="o">+=</span> <span class="n">line</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span>
            <span class="k">elif</span> <span class="n">line</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span> <span class="o">==</span> <span class="s">u&#39;...&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">tb</span><span class="p">:</span>
                <span class="c"># only a new &gt;&gt;&gt; prompt can end an exception block</span>
                <span class="c"># otherwise an ellipsis in place of the traceback frames</span>
                <span class="c"># will be mishandled</span>
                <span class="n">insertions</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">curcode</span><span class="p">),</span>
                                   <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="n">Generic</span><span class="o">.</span><span class="n">Prompt</span><span class="p">,</span> <span class="s">u&#39;...&#39;</span><span class="p">)]))</span>
                <span class="n">curcode</span> <span class="o">+=</span> <span class="n">line</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">curcode</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">do_insertions</span><span class="p">(</span><span class="n">insertions</span><span class="p">,</span>
                                    <span class="n">pylexer</span><span class="o">.</span><span class="n">get_tokens_unprocessed</span><span class="p">(</span><span class="n">curcode</span><span class="p">)):</span>
                        <span class="k">yield</span> <span class="n">item</span>
                    <span class="n">curcode</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
                    <span class="n">insertions</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">u&#39;Traceback (most recent call last):&#39;</span><span class="p">)</span> <span class="ow">or</span>
                    <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">ur&#39;  File &quot;[^&quot;]+&quot;, line \d+\n$&#39;</span><span class="p">,</span> <span class="n">line</span><span class="p">)):</span>
                    <span class="n">tb</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="n">curtb</span> <span class="o">=</span> <span class="n">line</span>
                    <span class="n">tbindex</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
                <span class="k">elif</span> <span class="n">line</span> <span class="o">==</span> <span class="s">&#39;KeyboardInterrupt</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">,</span> <span class="n">line</span>
                <span class="k">elif</span> <span class="n">tb</span><span class="p">:</span>
                    <span class="n">curtb</span> <span class="o">+=</span> <span class="n">line</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">==</span> <span class="s">u&#39;...&#39;</span><span class="p">):</span>
                        <span class="n">tb</span> <span class="o">=</span> <span class="mi">0</span>
                        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">tblexer</span><span class="o">.</span><span class="n">get_tokens_unprocessed</span><span class="p">(</span><span class="n">curtb</span><span class="p">):</span>
                            <span class="k">yield</span> <span class="n">tbindex</span><span class="o">+</span><span class="n">i</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">v</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">Generic</span><span class="o">.</span><span class="n">Output</span><span class="p">,</span> <span class="n">line</span>
        <span class="k">if</span> <span class="n">curcode</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">do_insertions</span><span class="p">(</span><span class="n">insertions</span><span class="p">,</span>
                                      <span class="n">pylexer</span><span class="o">.</span><span class="n">get_tokens_unprocessed</span><span class="p">(</span><span class="n">curcode</span><span class="p">)):</span>
                <span class="k">yield</span> <span class="n">item</span>

</div>
<div class="viewcode-block" id="PythonTracebackLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.PythonTracebackLexer">[docs]</a><span class="k">class</span> <span class="nc">PythonTracebackLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For Python tracebacks.</span>

<span class="sd">    *New in Pygments 0.7.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Python Traceback&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;pytb&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.pytb&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-python-traceback&#39;</span><span class="p">]</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;^Traceback \(most recent call last\):\n&#39;</span><span class="p">,</span>
             <span class="n">Generic</span><span class="o">.</span><span class="n">Traceback</span><span class="p">,</span> <span class="s">&#39;intb&#39;</span><span class="p">),</span>
            <span class="c"># SyntaxError starts with this.</span>
            <span class="p">(</span><span class="s">r&#39;^(?=  File &quot;[^&quot;]+&quot;, line \d+)&#39;</span><span class="p">,</span> <span class="n">Generic</span><span class="o">.</span><span class="n">Traceback</span><span class="p">,</span> <span class="s">&#39;intb&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;^.*\n&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;intb&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;^(  File )(&quot;[^&quot;]+&quot;)(, line )(\d+)(, in )(.+)(\n)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Number</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="p">,</span> <span class="n">Text</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;^(  File )(&quot;[^&quot;]+&quot;)(, line )(\d+)(\n)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Number</span><span class="p">,</span> <span class="n">Text</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;^(    )(.+)(\n)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">Text</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;^([ \t]*)(\.\.\.)(\n)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Comment</span><span class="p">,</span> <span class="n">Text</span><span class="p">)),</span> <span class="c"># for doctests...</span>
            <span class="p">(</span><span class="s">r&#39;^([^:]+)(: )(.+)(\n)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Generic</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;^([a-zA-Z_][a-zA-Z0-9_]*)(:?\n)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Generic</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
    <span class="p">}</span>

</div>
<div class="viewcode-block" id="Python3TracebackLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.Python3TracebackLexer">[docs]</a><span class="k">class</span> <span class="nc">Python3TracebackLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For Python 3.0 tracebacks, with support for chained exceptions.</span>

<span class="sd">    *New in Pygments 1.0.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Python 3.0 Traceback&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;py3tb&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.py3tb&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-python3-traceback&#39;</span><span class="p">]</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\n&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;^Traceback \(most recent call last\):\n&#39;</span><span class="p">,</span> <span class="n">Generic</span><span class="o">.</span><span class="n">Traceback</span><span class="p">,</span> <span class="s">&#39;intb&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;^During handling of the above exception, another &#39;</span>
             <span class="s">r&#39;exception occurred:\n\n&#39;</span><span class="p">,</span> <span class="n">Generic</span><span class="o">.</span><span class="n">Traceback</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;^The above exception was the direct cause of the &#39;</span>
             <span class="s">r&#39;following exception:\n\n&#39;</span><span class="p">,</span> <span class="n">Generic</span><span class="o">.</span><span class="n">Traceback</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;intb&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;^(  File )(&quot;[^&quot;]+&quot;)(, line )(\d+)(, in )(.+)(\n)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Number</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="p">,</span> <span class="n">Text</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;^(    )(.+)(\n)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">Python3Lexer</span><span class="p">),</span> <span class="n">Text</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;^([ \t]*)(\.\.\.)(\n)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Comment</span><span class="p">,</span> <span class="n">Text</span><span class="p">)),</span> <span class="c"># for doctests...</span>
            <span class="p">(</span><span class="s">r&#39;^([^:]+)(: )(.+)(\n)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Generic</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;^([a-zA-Z_][a-zA-Z0-9_]*)(:?\n)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Generic</span><span class="o">.</span><span class="n">Error</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
    <span class="p">}</span>

</div>
<div class="viewcode-block" id="RubyLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.RubyLexer">[docs]</a><span class="k">class</span> <span class="nc">RubyLexer</span><span class="p">(</span><span class="n">ExtendedRegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For `Ruby &lt;http://www.ruby-lang.org&gt;`_ source code.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Ruby&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;rb&#39;</span><span class="p">,</span> <span class="s">&#39;ruby&#39;</span><span class="p">,</span> <span class="s">&#39;duby&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.rb&#39;</span><span class="p">,</span> <span class="s">&#39;*.rbw&#39;</span><span class="p">,</span> <span class="s">&#39;Rakefile&#39;</span><span class="p">,</span> <span class="s">&#39;*.rake&#39;</span><span class="p">,</span> <span class="s">&#39;*.gemspec&#39;</span><span class="p">,</span>
                 <span class="s">&#39;*.rbx&#39;</span><span class="p">,</span> <span class="s">&#39;*.duby&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-ruby&#39;</span><span class="p">,</span> <span class="s">&#39;application/x-ruby&#39;</span><span class="p">]</span>

    <span class="n">flags</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span>

    <span class="k">def</span> <span class="nf">heredoc_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">match</span><span class="p">,</span> <span class="n">ctx</span><span class="p">):</span>
        <span class="c"># okay, this is the hardest part of parsing Ruby...</span>
        <span class="c"># match: 1 = &lt;&lt;-?, 2 = quote? 3 = name 4 = quote? 5 = rest of line</span>

        <span class="n">start</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">start</span><span class="p">,</span> <span class="n">Operator</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>        <span class="c"># &lt;&lt;-?</span>
        <span class="k">yield</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">String</span><span class="o">.</span><span class="n">Heredoc</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c"># quote &quot;, &#39;, `</span>
        <span class="k">yield</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">Name</span><span class="o">.</span><span class="n">Constant</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>   <span class="c"># heredoc name</span>
        <span class="k">yield</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">String</span><span class="o">.</span><span class="n">Heredoc</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="c"># quote again</span>

        <span class="n">heredocstack</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">__dict__</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s">&#39;heredocstack&#39;</span><span class="p">,</span> <span class="p">[])</span>
        <span class="n">outermost</span> <span class="o">=</span> <span class="ow">not</span> <span class="nb">bool</span><span class="p">(</span><span class="n">heredocstack</span><span class="p">)</span>
        <span class="n">heredocstack</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;&lt;&lt;-&#39;</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>

        <span class="n">ctx</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">end</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="c"># this may find other heredocs</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_tokens_unprocessed</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="n">ctx</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">i</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">v</span>
        <span class="n">ctx</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">outermost</span><span class="p">:</span>
            <span class="c"># this is the outer heredoc again, now we can process them all</span>
            <span class="k">for</span> <span class="n">tolerant</span><span class="p">,</span> <span class="n">hdname</span> <span class="ow">in</span> <span class="n">heredocstack</span><span class="p">:</span>
                <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">line_re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">ctx</span><span class="o">.</span><span class="n">pos</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">tolerant</span><span class="p">:</span>
                        <span class="n">check</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">check</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">()</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">check</span> <span class="o">==</span> <span class="n">hdname</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">amatch</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
                            <span class="k">yield</span> <span class="n">amatch</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">String</span><span class="o">.</span><span class="n">Heredoc</span><span class="p">,</span> <span class="n">amatch</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
                        <span class="k">yield</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">Name</span><span class="o">.</span><span class="n">Constant</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
                        <span class="n">ctx</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
                        <span class="k">break</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c"># end of heredoc not found -- error!</span>
                    <span class="k">for</span> <span class="n">amatch</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
                        <span class="k">yield</span> <span class="n">amatch</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">Error</span><span class="p">,</span> <span class="n">amatch</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
            <span class="n">ctx</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="k">del</span> <span class="n">heredocstack</span><span class="p">[:]</span>


    <span class="k">def</span> <span class="nf">gen_rubystrings_rules</span><span class="p">():</span>
        <span class="k">def</span> <span class="nf">intp_regex_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">match</span><span class="p">,</span> <span class="n">ctx</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c"># begin</span>
            <span class="n">nctx</span> <span class="o">=</span> <span class="n">LexerContext</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;interpolated-regex&#39;</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_tokens_unprocessed</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="n">nctx</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">i</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">v</span>
            <span class="k">yield</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="c"># end[mixounse]*</span>
            <span class="n">ctx</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>

        <span class="k">def</span> <span class="nf">intp_string_callback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">match</span><span class="p">,</span> <span class="n">ctx</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">nctx</span> <span class="o">=</span> <span class="n">LexerContext</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;interpolated-string&#39;</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_tokens_unprocessed</span><span class="p">(</span><span class="n">context</span><span class="o">=</span><span class="n">nctx</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">i</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">v</span>
            <span class="k">yield</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>  <span class="c"># end</span>
            <span class="n">ctx</span><span class="o">.</span><span class="n">pos</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>

        <span class="n">states</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">states</span><span class="p">[</span><span class="s">&#39;strings&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="c"># easy ones</span>
            <span class="p">(</span><span class="s">r&#39;\:@{0,2}([a-zA-Z_]\w*[\!\?]?|\*\*?|[-+]@?|&#39;</span>
             <span class="s">r&#39;[/%&amp;|^`~]|\[\]=?|&lt;&lt;|&gt;&gt;|&lt;=?&gt;|&gt;=?|===?)&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Symbol</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;:&#39;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&#39;|[^&#39;])*&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Symbol</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;&#39;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&#39;|[^&#39;])*&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Single</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;:&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Symbol</span><span class="p">,</span> <span class="s">&#39;simple-sym&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;([a-zA-Z_][a-zA-Z0-9]*)(:)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">String</span><span class="o">.</span><span class="n">Symbol</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">)),</span>  <span class="c"># Since Ruby 1.9</span>
            <span class="p">(</span><span class="s">r&#39;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">,</span> <span class="s">&#39;simple-string&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;!\.)`&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Backtick</span><span class="p">,</span> <span class="s">&#39;simple-backtick&#39;</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="c"># double-quoted string and symbol</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">ttype</span><span class="p">,</span> <span class="n">end</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;string&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">,</span> <span class="s">&#39;&quot;&#39;</span><span class="p">),</span> \
                                <span class="p">(</span><span class="s">&#39;sym&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Symbol</span><span class="p">,</span> <span class="s">&#39;&quot;&#39;</span><span class="p">),</span> \
                                <span class="p">(</span><span class="s">&#39;backtick&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Backtick</span><span class="p">,</span> <span class="s">&#39;`&#39;</span><span class="p">):</span>
            <span class="n">states</span><span class="p">[</span><span class="s">&#39;simple-&#39;</span><span class="o">+</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">include</span><span class="p">(</span><span class="s">&#39;string-intp-escaped&#39;</span><span class="p">),</span>
                <span class="p">(</span><span class="s">r&#39;[^</span><span class="se">\\</span><span class="si">%s</span><span class="s">#]+&#39;</span> <span class="o">%</span> <span class="n">end</span><span class="p">,</span> <span class="n">ttype</span><span class="p">),</span>
                <span class="p">(</span><span class="s">r&#39;[</span><span class="se">\\</span><span class="s">#]&#39;</span><span class="p">,</span> <span class="n">ttype</span><span class="p">),</span>
                <span class="p">(</span><span class="n">end</span><span class="p">,</span> <span class="n">ttype</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">]</span>

        <span class="c"># braced quoted strings</span>
        <span class="k">for</span> <span class="n">lbrace</span><span class="p">,</span> <span class="n">rbrace</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;</span><span class="se">\\</span><span class="s">{&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">}&#39;</span><span class="p">,</span> <span class="s">&#39;cb&#39;</span><span class="p">),</span> \
                                    <span class="p">(</span><span class="s">&#39;</span><span class="se">\\</span><span class="s">[&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">]&#39;</span><span class="p">,</span> <span class="s">&#39;sb&#39;</span><span class="p">),</span> \
                                    <span class="p">(</span><span class="s">&#39;</span><span class="se">\\</span><span class="s">(&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\\</span><span class="s">)&#39;</span><span class="p">,</span> <span class="s">&#39;pa&#39;</span><span class="p">),</span> \
                                    <span class="p">(</span><span class="s">&#39;&lt;&#39;</span><span class="p">,</span> <span class="s">&#39;&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span><span class="p">):</span>
            <span class="n">states</span><span class="p">[</span><span class="n">name</span><span class="o">+</span><span class="s">&#39;-intp-string&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">[</span><span class="se">\\</span><span class="s">&#39;</span> <span class="o">+</span> <span class="n">lbrace</span> <span class="o">+</span> <span class="n">rbrace</span> <span class="o">+</span> <span class="s">&#39;]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
                <span class="p">(</span><span class="s">r&#39;(?&lt;!</span><span class="se">\\</span><span class="s">)&#39;</span> <span class="o">+</span> <span class="n">lbrace</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;#push&#39;</span><span class="p">),</span>
                <span class="p">(</span><span class="s">r&#39;(?&lt;!</span><span class="se">\\</span><span class="s">)&#39;</span> <span class="o">+</span> <span class="n">rbrace</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
                <span class="n">include</span><span class="p">(</span><span class="s">&#39;string-intp-escaped&#39;</span><span class="p">),</span>
                <span class="p">(</span><span class="s">r&#39;[</span><span class="se">\\</span><span class="s">#&#39;</span> <span class="o">+</span> <span class="n">lbrace</span> <span class="o">+</span> <span class="n">rbrace</span> <span class="o">+</span> <span class="s">&#39;]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
                <span class="p">(</span><span class="s">r&#39;[^</span><span class="se">\\</span><span class="s">#&#39;</span> <span class="o">+</span> <span class="n">lbrace</span> <span class="o">+</span> <span class="n">rbrace</span> <span class="o">+</span> <span class="s">&#39;]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
            <span class="p">]</span>
            <span class="n">states</span><span class="p">[</span><span class="s">&#39;strings&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s">r&#39;%[QWx]?&#39;</span> <span class="o">+</span> <span class="n">lbrace</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span>
                                      <span class="n">name</span><span class="o">+</span><span class="s">&#39;-intp-string&#39;</span><span class="p">))</span>
            <span class="n">states</span><span class="p">[</span><span class="n">name</span><span class="o">+</span><span class="s">&#39;-string&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">[</span><span class="se">\\</span><span class="s">&#39;</span> <span class="o">+</span> <span class="n">lbrace</span> <span class="o">+</span> <span class="n">rbrace</span> <span class="o">+</span> <span class="s">&#39;]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
                <span class="p">(</span><span class="s">r&#39;(?&lt;!</span><span class="se">\\</span><span class="s">)&#39;</span> <span class="o">+</span> <span class="n">lbrace</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;#push&#39;</span><span class="p">),</span>
                <span class="p">(</span><span class="s">r&#39;(?&lt;!</span><span class="se">\\</span><span class="s">)&#39;</span> <span class="o">+</span> <span class="n">rbrace</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
                <span class="p">(</span><span class="s">r&#39;[</span><span class="se">\\</span><span class="s">#&#39;</span> <span class="o">+</span> <span class="n">lbrace</span> <span class="o">+</span> <span class="n">rbrace</span> <span class="o">+</span> <span class="s">&#39;]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
                <span class="p">(</span><span class="s">r&#39;[^</span><span class="se">\\</span><span class="s">#&#39;</span> <span class="o">+</span> <span class="n">lbrace</span> <span class="o">+</span> <span class="n">rbrace</span> <span class="o">+</span> <span class="s">&#39;]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
            <span class="p">]</span>
            <span class="n">states</span><span class="p">[</span><span class="s">&#39;strings&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s">r&#39;%[qsw]&#39;</span> <span class="o">+</span> <span class="n">lbrace</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span>
                                      <span class="n">name</span><span class="o">+</span><span class="s">&#39;-string&#39;</span><span class="p">))</span>
            <span class="n">states</span><span class="p">[</span><span class="n">name</span><span class="o">+</span><span class="s">&#39;-regex&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">[</span><span class="se">\\</span><span class="s">&#39;</span> <span class="o">+</span> <span class="n">lbrace</span> <span class="o">+</span> <span class="n">rbrace</span> <span class="o">+</span> <span class="s">&#39;]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
                <span class="p">(</span><span class="s">r&#39;(?&lt;!</span><span class="se">\\</span><span class="s">)&#39;</span> <span class="o">+</span> <span class="n">lbrace</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#push&#39;</span><span class="p">),</span>
                <span class="p">(</span><span class="s">r&#39;(?&lt;!</span><span class="se">\\</span><span class="s">)&#39;</span> <span class="o">+</span> <span class="n">rbrace</span> <span class="o">+</span> <span class="s">&#39;[mixounse]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
                <span class="n">include</span><span class="p">(</span><span class="s">&#39;string-intp&#39;</span><span class="p">),</span>
                <span class="p">(</span><span class="s">r&#39;[</span><span class="se">\\</span><span class="s">#&#39;</span> <span class="o">+</span> <span class="n">lbrace</span> <span class="o">+</span> <span class="n">rbrace</span> <span class="o">+</span> <span class="s">&#39;]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
                <span class="p">(</span><span class="s">r&#39;[^</span><span class="se">\\</span><span class="s">#&#39;</span> <span class="o">+</span> <span class="n">lbrace</span> <span class="o">+</span> <span class="n">rbrace</span> <span class="o">+</span> <span class="s">&#39;]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
            <span class="p">]</span>
            <span class="n">states</span><span class="p">[</span><span class="s">&#39;strings&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s">r&#39;</span><span class="si">%r</span><span class="s">&#39;</span> <span class="o">+</span> <span class="n">lbrace</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span>
                                      <span class="n">name</span><span class="o">+</span><span class="s">&#39;-regex&#39;</span><span class="p">))</span>

        <span class="c"># these must come after %&lt;brace&gt;!</span>
        <span class="n">states</span><span class="p">[</span><span class="s">&#39;strings&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="p">[</span>
            <span class="c"># %r regex</span>
            <span class="p">(</span><span class="s">r&#39;(</span><span class="si">%r</span><span class="s">([^a-zA-Z0-9]))((?:</span><span class="se">\\</span><span class="s">\2|(?!\2).)*)(\2[mixounse]*)&#39;</span><span class="p">,</span>
             <span class="n">intp_regex_callback</span><span class="p">),</span>
            <span class="c"># regular fancy strings with qsw</span>
            <span class="p">(</span><span class="s">r&#39;%[qsw]([^a-zA-Z0-9])((?:</span><span class="se">\\</span><span class="s">\1|(?!\1).)*)\1&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(%[QWx]([^a-zA-Z0-9]))((?:</span><span class="se">\\</span><span class="s">\2|(?!\2).)*)(\2)&#39;</span><span class="p">,</span>
             <span class="n">intp_string_callback</span><span class="p">),</span>
            <span class="c"># special forms of fancy strings after operators or</span>
            <span class="c"># in method calls with braces</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;=[-+/*%=&lt;&gt;&amp;!^|~,(])(\s*)(%([\t ])(?:(?:</span><span class="se">\\</span><span class="s">\3|(?!\3).)*)\3)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="bp">None</span><span class="p">)),</span>
            <span class="c"># and because of fixed width lookbehinds the whole thing a</span>
            <span class="c"># second time for line startings...</span>
            <span class="p">(</span><span class="s">r&#39;^(\s*)(%([\t ])(?:(?:</span><span class="se">\\</span><span class="s">\3|(?!\3).)*)\3)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="bp">None</span><span class="p">)),</span>
            <span class="c"># all regular fancy strings without qsw</span>
            <span class="p">(</span><span class="s">r&#39;(%([^a-zA-Z0-9\s]))((?:</span><span class="se">\\</span><span class="s">\2|(?!\2).)*)(\2)&#39;</span><span class="p">,</span>
             <span class="n">intp_string_callback</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="k">return</span> <span class="n">states</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;#.*?$&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Single</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;=begin\s.*?\n=end.*?$&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">),</span>
            <span class="c"># keywords</span>
            <span class="p">(</span><span class="s">r&#39;(BEGIN|END|alias|begin|break|case|defined\?|&#39;</span>
             <span class="s">r&#39;do|else|elsif|end|ensure|for|if|in|next|redo|&#39;</span>
             <span class="s">r&#39;rescue|raise|retry|return|super|then|undef|unless|until|when|&#39;</span>
             <span class="s">r&#39;while|yield)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
            <span class="c"># start of function, class and module names</span>
            <span class="p">(</span><span class="s">r&#39;(module)(\s+)([a-zA-Z_][a-zA-Z0-9_]*&#39;</span>
             <span class="s">r&#39;(?:::[a-zA-Z_][a-zA-Z0-9_]*)*)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(def)(\s+)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span> <span class="s">&#39;funcname&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;def(?=[*%&amp;^`~+-/\[&lt;&gt;=])&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;funcname&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(class)(\s+)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span> <span class="s">&#39;classname&#39;</span><span class="p">),</span>
            <span class="c"># special methods</span>
            <span class="p">(</span><span class="s">r&#39;(initialize|new|loop|include|extend|raise|attr_reader|&#39;</span>
             <span class="s">r&#39;attr_writer|attr_accessor|attr|catch|throw|private|&#39;</span>
             <span class="s">r&#39;module_function|public|protected|true|false|nil)\b&#39;</span><span class="p">,</span>
             <span class="n">Keyword</span><span class="o">.</span><span class="n">Pseudo</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(not|and|or)\b&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">Word</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(autoload|block_given|const_defined|eql|equal|frozen|include|&#39;</span>
             <span class="s">r&#39;instance_of|is_a|iterator|kind_of|method_defined|nil|&#39;</span>
             <span class="s">r&#39;private_method_defined|protected_method_defined|&#39;</span>
             <span class="s">r&#39;public_method_defined|respond_to|tainted)\?&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(chomp|chop|exit|gsub|sub)!&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;!\.)(Array|Float|Integer|String|__id__|__send__|abort|&#39;</span>
             <span class="s">r&#39;ancestors|at_exit|autoload|binding|callcc|caller|&#39;</span>
             <span class="s">r&#39;catch|chomp|chop|class_eval|class_variables|&#39;</span>
             <span class="s">r&#39;clone|const_defined\?|const_get|const_missing|const_set|&#39;</span>
             <span class="s">r&#39;constants|display|dup|eval|exec|exit|extend|fail|fork|&#39;</span>
             <span class="s">r&#39;format|freeze|getc|gets|global_variables|gsub|&#39;</span>
             <span class="s">r&#39;hash|id|included_modules|inspect|instance_eval|&#39;</span>
             <span class="s">r&#39;instance_method|instance_methods|&#39;</span>
             <span class="s">r&#39;instance_variable_get|instance_variable_set|instance_variables|&#39;</span>
             <span class="s">r&#39;lambda|load|local_variables|loop|&#39;</span>
             <span class="s">r&#39;method|method_missing|methods|module_eval|name|&#39;</span>
             <span class="s">r&#39;object_id|open|p|print|printf|private_class_method|&#39;</span>
             <span class="s">r&#39;private_instance_methods|&#39;</span>
             <span class="s">r&#39;private_methods|proc|protected_instance_methods|&#39;</span>
             <span class="s">r&#39;protected_methods|public_class_method|&#39;</span>
             <span class="s">r&#39;public_instance_methods|public_methods|&#39;</span>
             <span class="s">r&#39;putc|puts|raise|rand|readline|readlines|require|&#39;</span>
             <span class="s">r&#39;scan|select|self|send|set_trace_func|singleton_methods|sleep|&#39;</span>
             <span class="s">r&#39;split|sprintf|srand|sub|syscall|system|taint|&#39;</span>
             <span class="s">r&#39;test|throw|to_a|to_s|trace_var|trap|untaint|untrace_var|&#39;</span>
             <span class="s">r&#39;warn)\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;__(FILE|LINE)__\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="o">.</span><span class="n">Pseudo</span><span class="p">),</span>
            <span class="c"># normal heredocs</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;!\w)(&lt;&lt;-?)([&quot;`</span><span class="se">\&#39;</span><span class="s">]?)([a-zA-Z_]\w*)(\2)(.*?\n)&#39;</span><span class="p">,</span>
             <span class="n">heredoc_callback</span><span class="p">),</span>
            <span class="c"># empty string heredocs</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;&lt;-?)(&quot;|</span><span class="se">\&#39;</span><span class="s">)()(\2)(.*?\n)&#39;</span><span class="p">,</span> <span class="n">heredoc_callback</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;__END__&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="s">&#39;end-part&#39;</span><span class="p">),</span>
            <span class="c"># multiline regex (after keywords or assignments)</span>
            <span class="p">(</span><span class="s">r&#39;(?:^|(?&lt;=[=&lt;&gt;~!:])|&#39;</span>
                 <span class="s">r&#39;(?&lt;=(?:\s|;)when\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=(?:\s|;)or\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=(?:\s|;)and\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=(?:\s|;|\.)index\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=(?:\s|;|\.)scan\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=(?:\s|;|\.)sub\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=(?:\s|;|\.)sub!\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=(?:\s|;|\.)gsub\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=(?:\s|;|\.)gsub!\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=(?:\s|;|\.)match\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=(?:\s|;)if\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=(?:\s|;)elsif\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=^when\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=^index\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=^scan\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=^sub\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=^gsub\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=^sub!\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=^gsub!\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=^match\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=^if\s)|&#39;</span>
                 <span class="s">r&#39;(?&lt;=^elsif\s)&#39;</span>
             <span class="s">r&#39;)(\s*)(/)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span> <span class="s">&#39;multiline-regex&#39;</span><span class="p">),</span>
            <span class="c"># multiline regex (in method calls or subscripts)</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;=\(|,|\[)/&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;multiline-regex&#39;</span><span class="p">),</span>
            <span class="c"># multiline regex (this time the funny no whitespace rule)</span>
            <span class="p">(</span><span class="s">r&#39;(\s+)(/)(?![\s=])&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
             <span class="s">&#39;multiline-regex&#39;</span><span class="p">),</span>
            <span class="c"># lex numbers and ignore following regular expressions which</span>
            <span class="c"># are division operators in fact (grrrr. i hate that. any</span>
            <span class="c"># better ideas?)</span>
            <span class="c"># since pygments 0.7 we also eat a &quot;?&quot; operator after numbers</span>
            <span class="c"># so that the char operator does not work. Chars are not allowed</span>
            <span class="c"># there so that you can use the ternary operator.</span>
            <span class="c"># stupid example:</span>
            <span class="c">#   x&gt;=0?n[x]:&quot;&quot;</span>
            <span class="p">(</span><span class="s">r&#39;(0_?[0-7]+(?:_[0-7]+)*)(\s*)([/?])?&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Number</span><span class="o">.</span><span class="n">Oct</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Operator</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(0x[0-9A-Fa-f]+(?:_[0-9A-Fa-f]+)*)(\s*)([/?])?&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Number</span><span class="o">.</span><span class="n">Hex</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Operator</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(0b[01]+(?:_[01]+)*)(\s*)([/?])?&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Number</span><span class="o">.</span><span class="n">Bin</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Operator</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;([\d]+(?:_\d+)*)(\s*)([/?])?&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Number</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Operator</span><span class="p">)),</span>
            <span class="c"># Names</span>
            <span class="p">(</span><span class="s">r&#39;@@[a-zA-Z_][a-zA-Z0-9_]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="o">.</span><span class="n">Class</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;@[a-zA-Z_][a-zA-Z0-9_]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="o">.</span><span class="n">Instance</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\$[a-zA-Z0-9_]+&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="o">.</span><span class="n">Global</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\$[!@&amp;`</span><span class="se">\&#39;</span><span class="s">+~=/</span><span class="se">\\</span><span class="s">,;.&lt;&gt;_*$?:&quot;]&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="o">.</span><span class="n">Global</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\$-[0adFiIlpvw]&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="o">.</span><span class="n">Global</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;::&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;strings&#39;</span><span class="p">),</span>
            <span class="c"># chars</span>
            <span class="p">(</span><span class="s">r&#39;\?(</span><span class="se">\\</span><span class="s">[MC]-)*&#39;</span> <span class="c"># modifiers</span>
             <span class="s">r&#39;(</span><span class="se">\\</span><span class="s">([</span><span class="se">\\</span><span class="s">abefnrstv#&quot;</span><span class="se">\&#39;</span><span class="s">]|x[a-fA-F0-9]{1,2}|[0-7]{1,3})|\S)&#39;</span>
             <span class="s">r&#39;(?!\w)&#39;</span><span class="p">,</span>
             <span class="n">String</span><span class="o">.</span><span class="n">Char</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[A-Z][a-zA-Z0-9_]+&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Constant</span><span class="p">),</span>
            <span class="c"># this is needed because ruby attributes can look</span>
            <span class="c"># like keywords (class) or like this: ` ?!?</span>
            <span class="p">(</span><span class="s">r&#39;(\.|::)([a-zA-Z_]\w*[\!\?]?|[*%&amp;^`~+-/\[&lt;&gt;=])&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Operator</span><span class="p">,</span> <span class="n">Name</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z_]\w*[\!\?]?&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(\[|\]|\*\*|&lt;&lt;?|&gt;&gt;?|&gt;=|&lt;=|&lt;=&gt;|=~|={3}|&#39;</span>
             <span class="s">r&#39;!~|&amp;&amp;?|\|\||\.{1,3})&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[-+/*%=&lt;&gt;&amp;!^|~]=?&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[(){};,/?:</span><span class="se">\\</span><span class="s">]&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;funcname&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\(&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="s">&#39;defexpr&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?:([a-zA-Z_][a-zA-Z0-9_]*)(\.))?&#39;</span>
             <span class="s">r&#39;([a-zA-Z_]\w*[\!\?]?|\*\*?|[-+]@?|&#39;</span>
             <span class="s">r&#39;[/%&amp;|^`~]|\[\]=?|&lt;&lt;|&gt;&gt;|&lt;=?&gt;|&gt;=?|===?)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">,</span> <span class="n">Operator</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">),</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;classname&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\(&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="s">&#39;defexpr&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;&lt;&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[A-Z_]\w*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;defexpr&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;(\))(\.|::)?&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Punctuation</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\(&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">,</span> <span class="s">&#39;#push&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;root&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;in-intp&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;}&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Interpol</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;root&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;string-intp&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;#{&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Interpol</span><span class="p">,</span> <span class="s">&#39;in-intp&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;#@@?[a-zA-Z_][a-zA-Z0-9_]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Interpol</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;#\$[a-zA-Z_][a-zA-Z0-9_]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Interpol</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;string-intp-escaped&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;string-intp&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">([</span><span class="se">\\</span><span class="s">abefnrstv#&quot;</span><span class="se">\&#39;</span><span class="s">]|x[a-fA-F0-9]{1,2}|[0-7]{1,3})&#39;</span><span class="p">,</span>
             <span class="n">String</span><span class="o">.</span><span class="n">Escape</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;interpolated-regex&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;string-intp&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[</span><span class="se">\\</span><span class="s">#]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^</span><span class="se">\\</span><span class="s">#]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;interpolated-string&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;string-intp&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[</span><span class="se">\\</span><span class="s">#]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^</span><span class="se">\\</span><span class="s">#]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;multiline-regex&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;string-intp&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">/&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[</span><span class="se">\\</span><span class="s">#]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^</span><span class="se">\\</span><span class="s">/#]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;/[mixounse]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;end-part&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;.+&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">}</span>
    <span class="n">tokens</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">gen_rubystrings_rules</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">shebang_matches</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">r&#39;ruby(1\.\d)?&#39;</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="RubyConsoleLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.RubyConsoleLexer">[docs]</a><span class="k">class</span> <span class="nc">RubyConsoleLexer</span><span class="p">(</span><span class="n">Lexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For Ruby interactive console (**irb**) output like:</span>

<span class="sd">    .. sourcecode:: rbcon</span>

<span class="sd">        irb(main):001:0&gt; a = 1</span>
<span class="sd">        =&gt; 1</span>
<span class="sd">        irb(main):002:0&gt; puts a</span>
<span class="sd">        1</span>
<span class="sd">        =&gt; nil</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Ruby irb session&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;rbcon&#39;</span><span class="p">,</span> <span class="s">&#39;irb&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-ruby-shellsession&#39;</span><span class="p">]</span>

    <span class="n">_prompt_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">&#39;irb\([a-zA-Z_][a-zA-Z0-9_]*\):\d{3}:\d+[&gt;*&quot;</span><span class="se">\&#39;</span><span class="s">] &#39;</span>
                            <span class="s">&#39;|&gt;&gt; |\?&gt; &#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_tokens_unprocessed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="n">rblexer</span> <span class="o">=</span> <span class="n">RubyLexer</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>

        <span class="n">curcode</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
        <span class="n">insertions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">line_re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
            <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prompt_re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">m</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
                <span class="n">insertions</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">curcode</span><span class="p">),</span>
                                   <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="n">Generic</span><span class="o">.</span><span class="n">Prompt</span><span class="p">,</span> <span class="n">line</span><span class="p">[:</span><span class="n">end</span><span class="p">])]))</span>
                <span class="n">curcode</span> <span class="o">+=</span> <span class="n">line</span><span class="p">[</span><span class="n">end</span><span class="p">:]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">curcode</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">do_insertions</span><span class="p">(</span><span class="n">insertions</span><span class="p">,</span>
                                    <span class="n">rblexer</span><span class="o">.</span><span class="n">get_tokens_unprocessed</span><span class="p">(</span><span class="n">curcode</span><span class="p">)):</span>
                        <span class="k">yield</span> <span class="n">item</span>
                    <span class="n">curcode</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
                    <span class="n">insertions</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">yield</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">Generic</span><span class="o">.</span><span class="n">Output</span><span class="p">,</span> <span class="n">line</span>
        <span class="k">if</span> <span class="n">curcode</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">do_insertions</span><span class="p">(</span><span class="n">insertions</span><span class="p">,</span>
                                      <span class="n">rblexer</span><span class="o">.</span><span class="n">get_tokens_unprocessed</span><span class="p">(</span><span class="n">curcode</span><span class="p">)):</span>
                <span class="k">yield</span> <span class="n">item</span>

</div>
<div class="viewcode-block" id="PerlLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.PerlLexer">[docs]</a><span class="k">class</span> <span class="nc">PerlLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For `Perl &lt;http://www.perl.org&gt;`_ source code.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Perl&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;perl&#39;</span><span class="p">,</span> <span class="s">&#39;pl&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.pl&#39;</span><span class="p">,</span> <span class="s">&#39;*.pm&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-perl&#39;</span><span class="p">,</span> <span class="s">&#39;application/x-perl&#39;</span><span class="p">]</span>

    <span class="n">flags</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span>
    <span class="c"># TODO: give this to a perl guy who knows how to parse perl...</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;balanced-regex&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;/(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">/])*/[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;!(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">!])*![egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">(</span><span class="se">\\\\</span><span class="s">|[^</span><span class="se">\\</span><span class="s">])*</span><span class="se">\\</span><span class="s">[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;{(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">}])*}[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">&gt;])*&gt;[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\[(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">\]])*\][egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\((</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">\)])*\)[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;@(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">\@])*@[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;%(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">\%])*%[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\$(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">\$])*\$[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\#.*?$&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Single</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;^=[a-zA-Z0-9]+\s+.*?\n=cut&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(case|continue|do|else|elsif|for|foreach|if|last|my|&#39;</span>
             <span class="s">r&#39;next|our|redo|reset|then|unless|until|while|use|&#39;</span>
             <span class="s">r&#39;print|new|BEGIN|CHECK|INIT|END|return)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(format)(\s+)([a-zA-Z0-9_]+)(\s*)(=)(\s*\n)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span> <span class="s">&#39;format&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(eq|lt|gt|le|ge|ne|not|and|or|cmp)\b&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">Word</span><span class="p">),</span>
            <span class="c"># common delimiters</span>
            <span class="p">(</span><span class="s">r&#39;s/(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">/])*/(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">/])*/[egimosx]*&#39;</span><span class="p">,</span>
                <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;s!(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">!|[^!])*!(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">!|[^!])*![egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;s</span><span class="se">\\</span><span class="s">(</span><span class="se">\\\\</span><span class="s">|[^</span><span class="se">\\</span><span class="s">])*</span><span class="se">\\</span><span class="s">(</span><span class="se">\\\\</span><span class="s">|[^</span><span class="se">\\</span><span class="s">])*</span><span class="se">\\</span><span class="s">[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;s@(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">@])*@(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">@])*@[egimosx]*&#39;</span><span class="p">,</span>
                <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;s%(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">%])*%(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">%])*%[egimosx]*&#39;</span><span class="p">,</span>
                <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
            <span class="c"># balanced delimiters</span>
            <span class="p">(</span><span class="s">r&#39;s{(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">}])*}\s*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;balanced-regex&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;s&lt;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">&gt;])*&gt;\s*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;balanced-regex&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;s\[(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">\]])*\]\s*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span>
                <span class="s">&#39;balanced-regex&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;s\((</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">\)])*\)\s*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span>
                <span class="s">&#39;balanced-regex&#39;</span><span class="p">),</span>

            <span class="p">(</span><span class="s">r&#39;m?/(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">/\n])*/[gcimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;m(?=[/!</span><span class="se">\\</span><span class="s">{&lt;\[\(@%\$])&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;balanced-regex&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;((?&lt;==~)|(?&lt;=\())\s*/(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^</span><span class="se">\\</span><span class="s">/])*/[gcimosx]*&#39;</span><span class="p">,</span>
                <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(abs|accept|alarm|atan2|bind|binmode|bless|caller|chdir|&#39;</span>
             <span class="s">r&#39;chmod|chomp|chop|chown|chr|chroot|close|closedir|connect|&#39;</span>
             <span class="s">r&#39;continue|cos|crypt|dbmclose|dbmopen|defined|delete|die|&#39;</span>
             <span class="s">r&#39;dump|each|endgrent|endhostent|endnetent|endprotoent|&#39;</span>
             <span class="s">r&#39;endpwent|endservent|eof|eval|exec|exists|exit|exp|fcntl|&#39;</span>
             <span class="s">r&#39;fileno|flock|fork|format|formline|getc|getgrent|getgrgid|&#39;</span>
             <span class="s">r&#39;getgrnam|gethostbyaddr|gethostbyname|gethostent|getlogin|&#39;</span>
             <span class="s">r&#39;getnetbyaddr|getnetbyname|getnetent|getpeername|getpgrp|&#39;</span>
             <span class="s">r&#39;getppid|getpriority|getprotobyname|getprotobynumber|&#39;</span>
             <span class="s">r&#39;getprotoent|getpwent|getpwnam|getpwuid|getservbyname|&#39;</span>
             <span class="s">r&#39;getservbyport|getservent|getsockname|getsockopt|glob|gmtime|&#39;</span>
             <span class="s">r&#39;goto|grep|hex|import|index|int|ioctl|join|keys|kill|last|&#39;</span>
             <span class="s">r&#39;lc|lcfirst|length|link|listen|local|localtime|log|lstat|&#39;</span>
             <span class="s">r&#39;map|mkdir|msgctl|msgget|msgrcv|msgsnd|my|next|no|oct|open|&#39;</span>
             <span class="s">r&#39;opendir|ord|our|pack|package|pipe|pop|pos|printf|&#39;</span>
             <span class="s">r&#39;prototype|push|quotemeta|rand|read|readdir|&#39;</span>
             <span class="s">r&#39;readline|readlink|readpipe|recv|redo|ref|rename|require|&#39;</span>
             <span class="s">r&#39;reverse|rewinddir|rindex|rmdir|scalar|seek|seekdir|&#39;</span>
             <span class="s">r&#39;select|semctl|semget|semop|send|setgrent|sethostent|setnetent|&#39;</span>
             <span class="s">r&#39;setpgrp|setpriority|setprotoent|setpwent|setservent|&#39;</span>
             <span class="s">r&#39;setsockopt|shift|shmctl|shmget|shmread|shmwrite|shutdown|&#39;</span>
             <span class="s">r&#39;sin|sleep|socket|socketpair|sort|splice|split|sprintf|sqrt|&#39;</span>
             <span class="s">r&#39;srand|stat|study|substr|symlink|syscall|sysopen|sysread|&#39;</span>
             <span class="s">r&#39;sysseek|system|syswrite|tell|telldir|tie|tied|time|times|tr|&#39;</span>
             <span class="s">r&#39;truncate|uc|ucfirst|umask|undef|unlink|unpack|unshift|untie|&#39;</span>
             <span class="s">r&#39;utime|values|vec|wait|waitpid|wantarray|warn|write&#39;</span>
             <span class="s">r&#39;)\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;((__(DATA|DIE|WARN)__)|(STD(IN|OUT|ERR)))\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="o">.</span><span class="n">Pseudo</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;&lt;([</span><span class="se">\&#39;</span><span class="s">&quot;]?)([a-zA-Z_][a-zA-Z0-9_]*)\1;?\n.*?\n\2\n&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;__END__&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="s">&#39;end-part&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\$\^[ADEFHILMOPSTWX]&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="o">.</span><span class="n">Global</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;\$[</span><span class="se">\\\&quot;</span><span class="s">\[\]&#39;&amp;`+*.,;=%~?@$!&lt;&gt;(^|/-](?!\w)&quot;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="o">.</span><span class="n">Global</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[$@%#]+&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">,</span> <span class="s">&#39;varname&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;0_?[0-7]+(_[0-7]+)*&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Oct</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;0x[0-9A-Fa-f]+(_[0-9A-Fa-f]+)*&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Hex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;0b[01]+(_[01]+)*&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Bin</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?i)(\d*(_\d*)*\.\d+(_\d*)*|\d+(_\d*)*\.\d+(_\d*)*)(e[+-]?\d+)?&#39;</span><span class="p">,</span>
             <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?i)\d+(_\d*)*e[+-]?\d+(_\d*)*&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\d+(_\d+)*&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Integer</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;&#39;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^&#39;</span><span class="se">\\</span><span class="s">])*&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&quot;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^&quot;</span><span class="se">\\</span><span class="s">])*&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;`(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[^</span><span class="se">\\</span><span class="s">]|[^`</span><span class="se">\\</span><span class="s">])*`&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Backtick</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;([^\s&gt;]+)&gt;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(q|qq|qw|qr|qx)\{&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;cb-string&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(q|qq|qw|qr|qx)\(&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;rb-string&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(q|qq|qw|qr|qx)\[&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;sb-string&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(q|qq|qw|qr|qx)\&lt;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;lt-string&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(q|qq|qw|qr|qx)([^a-zA-Z0-9])(.|\n)*?\2&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;package\s+&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;modulename&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;sub\s+&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;funcname&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(\[\]|\*\*|::|&lt;&lt;|&gt;&gt;|&gt;=|&lt;=&gt;|&lt;=|={3}|!=|=~|&#39;</span>
             <span class="s">r&#39;!~|&amp;&amp;?|\|\||\.{1,3})&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[-+/*%=&lt;&gt;&amp;^|!</span><span class="se">\\</span><span class="s">~]=?&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[\(\)\[\]:;,&lt;&gt;/\?\{\}]&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">),</span> <span class="c"># yes, there&#39;s no shortage</span>
                                                      <span class="c"># of punctuation in Perl!</span>
            <span class="p">(</span><span class="s">r&#39;(?=\w)&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="p">,</span> <span class="s">&#39;name&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;format&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\.\n&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Interpol</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^\n]*\n&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Interpol</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;varname&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\{&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span> <span class="c"># hash syntax?</span>
            <span class="p">(</span><span class="s">r&#39;\)|,&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span> <span class="c"># argument specifier</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z0-9_]+::&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z0-9_:]+&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;name&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z0-9_]+::&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z0-9_:]+&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[A-Z_]+(?=[^a-zA-Z0-9_])&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Constant</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?=[^a-zA-Z0-9_])&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;modulename&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z_]\w*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;funcname&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z_]\w*[\!\?]?&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="c"># argument declaration</span>
            <span class="p">(</span><span class="s">r&#39;(\([$@%]*\))(\s*)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Punctuation</span><span class="p">,</span> <span class="n">Text</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;.*?{&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;;&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;cb-string&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">[\{\}</span><span class="se">\\</span><span class="s">]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\{&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;cb-string&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\}&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^\{\}</span><span class="se">\\</span><span class="s">]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;rb-string&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">[\(\)</span><span class="se">\\</span><span class="s">]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\(&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;rb-string&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\)&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^\(\)]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;sb-string&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">[\[\]</span><span class="se">\\</span><span class="s">]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\[&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;sb-string&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^\[\]]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;lt-string&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">[\&lt;\&gt;</span><span class="se">\\</span><span class="s">]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\&lt;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;lt-string&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\&gt;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^\&lt;\&gt;]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Other</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;end-part&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;.+&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">shebang_matches</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">r&#39;perl&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">if</span> <span class="s">&#39;my $&#39;</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">0.9</span>
        <span class="k">return</span> <span class="mf">0.1</span> <span class="c"># who knows, might still be perl!</span>

</div>
<div class="viewcode-block" id="LuaLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.LuaLexer">[docs]</a><span class="k">class</span> <span class="nc">LuaLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For `Lua &lt;http://www.lua.org&gt;`_ source code.</span>

<span class="sd">    Additional options accepted:</span>

<span class="sd">    `func_name_highlighting`</span>
<span class="sd">        If given and ``True``, highlight builtin function names</span>
<span class="sd">        (default: ``True``).</span>
<span class="sd">    `disabled_modules`</span>
<span class="sd">        If given, must be a list of module names whose function names</span>
<span class="sd">        should not be highlighted. By default all modules are highlighted.</span>

<span class="sd">        To get a list of allowed modules have a look into the</span>
<span class="sd">        `_luabuiltins` module:</span>

<span class="sd">        .. sourcecode:: pycon</span>

<span class="sd">            &gt;&gt;&gt; from pygments.lexers._luabuiltins import MODULES</span>
<span class="sd">            &gt;&gt;&gt; MODULES.keys()</span>
<span class="sd">            [&#39;string&#39;, &#39;coroutine&#39;, &#39;modules&#39;, &#39;io&#39;, &#39;basic&#39;, ...]</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Lua&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;lua&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.lua&#39;</span><span class="p">,</span> <span class="s">&#39;*.wlua&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-lua&#39;</span><span class="p">,</span> <span class="s">&#39;application/x-lua&#39;</span><span class="p">]</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="c"># lua allows a file to start with a shebang</span>
            <span class="p">(</span><span class="s">r&#39;#!(.*?)$&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="s">&#39;base&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;base&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;(?s)--\[(=*)\[.*?\]\1\]&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;--.*$&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Single</span><span class="p">),</span>

            <span class="p">(</span><span class="s">r&#39;(?i)(\d*\.\d+|\d+\.\d*)(e[+-]?\d+)?&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?i)\d+e[+-]?\d+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;(?i)0x[0-9a-f]*&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Hex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\d+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Integer</span><span class="p">),</span>

            <span class="p">(</span><span class="s">r&#39;\n&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^\S\n]&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="c"># multiline strings</span>
            <span class="p">(</span><span class="s">r&#39;(?s)\[(=*)\[.*?\]\1\]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>

            <span class="p">(</span><span class="s">r&#39;(==|~=|&lt;=|&gt;=|\.\.\.|\.\.|[=+\-*/%^&lt;&gt;#])&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[\[\]\{\}\(\)\.,:;]&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(and|or|not)\b&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">Word</span><span class="p">),</span>

            <span class="p">(</span><span class="s">&#39;(break|do|else|elseif|end|for|if|in|repeat|return|then|until|&#39;</span>
             <span class="s">r&#39;while)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(local)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="o">.</span><span class="n">Declaration</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(true|false|nil)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="o">.</span><span class="n">Constant</span><span class="p">),</span>

            <span class="p">(</span><span class="s">r&#39;(function)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;funcname&#39;</span><span class="p">),</span>

            <span class="p">(</span><span class="s">r&#39;[A-Za-z_][A-Za-z0-9_]*(\.[A-Za-z_][A-Za-z0-9_]*)?&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="p">),</span>

            <span class="p">(</span><span class="s">&quot;&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Single</span><span class="p">,</span> <span class="n">combined</span><span class="p">(</span><span class="s">&#39;stringescape&#39;</span><span class="p">,</span> <span class="s">&#39;sqs&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">&#39;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">,</span> <span class="n">combined</span><span class="p">(</span><span class="s">&#39;stringescape&#39;</span><span class="p">,</span> <span class="s">&#39;dqs&#39;</span><span class="p">))</span>
        <span class="p">],</span>

        <span class="s">&#39;funcname&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;(?:([A-Za-z_][A-Za-z0-9_]*)(\.))?([A-Za-z_][A-Za-z0-9_]*)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">),</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="c"># inline function</span>
            <span class="p">(</span><span class="s">&#39;\(&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
        <span class="p">],</span>

        <span class="c"># if I understand correctly, every character is valid in a lua string,</span>
        <span class="c"># so this state is only for later corrections</span>
        <span class="s">&#39;string&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">)</span>
        <span class="p">],</span>

        <span class="s">&#39;stringescape&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;&#39;&#39;\\([abfnrtv\\&quot;&#39;]|\d{1,3})&#39;&#39;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Escape</span><span class="p">)</span>
        <span class="p">],</span>

        <span class="s">&#39;sqs&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&quot;&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;string&#39;</span><span class="p">)</span>
        <span class="p">],</span>

        <span class="s">&#39;dqs&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;string&#39;</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">func_name_highlighting</span> <span class="o">=</span> <span class="n">get_bool_opt</span><span class="p">(</span>
            <span class="n">options</span><span class="p">,</span> <span class="s">&#39;func_name_highlighting&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disabled_modules</span> <span class="o">=</span> <span class="n">get_list_opt</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="s">&#39;disabled_modules&#39;</span><span class="p">,</span> <span class="p">[])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_functions</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">func_name_highlighting</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">pygments.lexers._luabuiltins</span> <span class="kn">import</span> <span class="n">MODULES</span>
            <span class="k">for</span> <span class="n">mod</span><span class="p">,</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">MODULES</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">mod</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">disabled_modules</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_functions</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="n">RegexLexer</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_tokens_unprocessed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> \
            <span class="n">RegexLexer</span><span class="o">.</span><span class="n">get_tokens_unprocessed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">token</span> <span class="ow">is</span> <span class="n">Name</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_functions</span><span class="p">:</span>
                    <span class="k">yield</span> <span class="n">index</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">,</span> <span class="n">value</span>
                    <span class="k">continue</span>
                <span class="k">elif</span> <span class="s">&#39;.&#39;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                    <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span>
                    <span class="k">yield</span> <span class="n">index</span><span class="p">,</span> <span class="n">Name</span><span class="p">,</span> <span class="n">a</span>
                    <span class="k">yield</span> <span class="n">index</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="s">u&#39;.&#39;</span>
                    <span class="k">yield</span> <span class="n">index</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">Name</span><span class="p">,</span> <span class="n">b</span>
                    <span class="k">continue</span>
            <span class="k">yield</span> <span class="n">index</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">value</span>

</div>
<div class="viewcode-block" id="MoonScriptLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.MoonScriptLexer">[docs]</a><span class="k">class</span> <span class="nc">MoonScriptLexer</span><span class="p">(</span><span class="n">LuaLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For `MoonScript &lt;http://moonscript.org.org&gt;`_ source code.</span>

<span class="sd">    *New in Pygments 1.5.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&quot;MoonScript&quot;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;moon&quot;</span><span class="p">,</span> <span class="s">&quot;moonscript&quot;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;*.moon&quot;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-moonscript&#39;</span><span class="p">,</span> <span class="s">&#39;application/x-moonscript&#39;</span><span class="p">]</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;#!(.*?)$&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="s">&#39;base&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;base&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;--.*$&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Single</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?i)(\d*\.\d+|\d+\.\d*)(e[+-]?\d+)?&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?i)\d+e[+-]?\d+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?i)0x[0-9a-f]*&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Hex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\d+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Integer</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\n&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^\S\n]+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?s)\[(=*)\[.*?\]\1\]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(-&gt;|=&gt;)&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;:[a-zA-Z_][a-zA-Z0-9_]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(==|!=|~=|&lt;=|&gt;=|\.\.\.|\.\.|[=+\-*/%^&lt;&gt;#!.</span><span class="se">\\</span><span class="s">:])&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[;,]&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[\[\]\{\}\(\)]&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="o">.</span><span class="n">Type</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z_][a-zA-Z0-9_]*:&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;(class|extends|if|then|super|do|with|import|export|&quot;</span>
             <span class="s">r&quot;while|elseif|return|for|in|from|when|using|else|&quot;</span>
             <span class="s">r&quot;and|or|not|switch|break)\b&quot;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(true|false|nil)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="o">.</span><span class="n">Constant</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(and|or|not)\b&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">Word</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(self)\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="o">.</span><span class="n">Pseudo</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;@@?([a-zA-Z_][a-zA-Z0-9_]*)?&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="o">.</span><span class="n">Class</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[A-Z]\w*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">),</span> <span class="c"># proper name</span>
            <span class="p">(</span><span class="s">r&#39;[A-Za-z_][A-Za-z0-9_]*(\.[A-Za-z_][A-Za-z0-9_]*)?&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&quot;&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Single</span><span class="p">,</span> <span class="n">combined</span><span class="p">(</span><span class="s">&#39;stringescape&#39;</span><span class="p">,</span> <span class="s">&#39;sqs&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">&#39;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">,</span> <span class="n">combined</span><span class="p">(</span><span class="s">&#39;stringescape&#39;</span><span class="p">,</span> <span class="s">&#39;dqs&#39;</span><span class="p">))</span>
        <span class="p">],</span>
        <span class="s">&#39;stringescape&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;&#39;&#39;\\([abfnrtv\\&quot;&#39;]|\d{1,3})&#39;&#39;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Escape</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;sqs&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&quot;&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Single</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;dqs&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">get_tokens_unprocessed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="c"># set . as Operator instead of Punctuation</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> \
            <span class="n">LuaLexer</span><span class="o">.</span><span class="n">get_tokens_unprocessed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">token</span> <span class="o">==</span> <span class="n">Punctuation</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">==</span> <span class="s">&quot;.&quot;</span><span class="p">:</span>
                <span class="n">token</span> <span class="o">=</span> <span class="n">Operator</span>
            <span class="k">yield</span> <span class="n">index</span><span class="p">,</span> <span class="n">token</span><span class="p">,</span> <span class="n">value</span>

</div>
<div class="viewcode-block" id="CrocLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.CrocLexer">[docs]</a><span class="k">class</span> <span class="nc">CrocLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For `Croc &lt;http://jfbillingsley.com/croc&gt;`_ source.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Croc&#39;</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.croc&#39;</span><span class="p">]</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;croc&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-crocsrc&#39;</span><span class="p">]</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\n&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="c"># Comments</span>
            <span class="p">(</span><span class="s">r&#39;//(.*?)\n&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Single</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;/\*&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">,</span> <span class="s">&#39;nestedcomment&#39;</span><span class="p">),</span>
            <span class="c"># Keywords</span>
            <span class="p">(</span><span class="s">r&#39;(as|assert|break|case|catch|class|continue|default&#39;</span>
             <span class="s">r&#39;|do|else|finally|for|foreach|function|global|namespace&#39;</span>
             <span class="s">r&#39;|if|import|in|is|local|module|return|scope|super|switch&#39;</span>
             <span class="s">r&#39;|this|throw|try|vararg|while|with|yield)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(false|true|null)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="o">.</span><span class="n">Constant</span><span class="p">),</span>
            <span class="c"># FloatLiteral</span>
            <span class="p">(</span><span class="s">r&#39;([0-9][0-9_]*)(?=[.eE])(\.[0-9][0-9_]*)?([eE][+\-]?[0-9_]+)?&#39;</span><span class="p">,</span>
             <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
            <span class="c"># IntegerLiteral</span>
            <span class="c"># -- Binary</span>
            <span class="p">(</span><span class="s">r&#39;0[bB][01][01_]*&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="p">),</span>
            <span class="c"># -- Hexadecimal</span>
            <span class="p">(</span><span class="s">r&#39;0[xX][0-9a-fA-F][0-9a-fA-F_]*&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Hex</span><span class="p">),</span>
            <span class="c"># -- Decimal</span>
            <span class="p">(</span><span class="s">r&#39;([0-9][0-9_]*)(?![.eE])&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Integer</span><span class="p">),</span>
            <span class="c"># CharacterLiteral</span>
            <span class="p">(</span><span class="s">r&quot;&quot;&quot;&#39;(\\[&#39;&quot;\\nrt]|\\x[0-9a-fA-F]{2}|\\[0-9]{1,3}&quot;&quot;&quot;</span>
             <span class="sd">r&quot;&quot;&quot;|\\u[0-9a-fA-F]{4}|\\U[0-9a-fA-F]{8}|.)&#39;&quot;&quot;&quot;</span><span class="p">,</span>
             <span class="n">String</span><span class="o">.</span><span class="n">Char</span>
            <span class="p">),</span>
            <span class="c"># StringLiteral</span>
            <span class="c"># -- WysiwygString</span>
            <span class="p">(</span><span class="s">r&#39;@&quot;(&quot;&quot;|[^&quot;])*&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;@`(``|[^`])*`&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;@&#39;(&#39;&#39;|[^&#39;])*&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="c"># -- DoubleQuotedString</span>
            <span class="p">(</span><span class="s">r&#39;&quot;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&quot;|[^&quot;])*&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="c"># Tokens</span>
            <span class="p">(</span>
             <span class="s">r&#39;(~=|\^=|%=|\*=|==|!=|&gt;&gt;&gt;=|&gt;&gt;&gt;|&gt;&gt;=|&gt;&gt;|&gt;=|&lt;=&gt;|\?=|-\&gt;&#39;</span>
             <span class="s">r&#39;|&lt;&lt;=|&lt;&lt;|&lt;=|\+\+|\+=|--|-=|\|\||\|=|&amp;&amp;|&amp;=|\.\.|/=)&#39;</span>
             <span class="s">r&#39;|[-/.&amp;$@|\+&lt;&gt;!()\[\]{}?,;:=*%^~#</span><span class="se">\\</span><span class="s">]&#39;</span><span class="p">,</span> <span class="n">Punctuation</span>
            <span class="p">),</span>
            <span class="c"># Identifier</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z_]\w*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;nestedcomment&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;[^*/]+&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;/\*&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">,</span> <span class="s">&#39;#push&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\*/&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[*/]&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">),</span>
        <span class="p">],</span>
    <span class="p">}</span>

</div>
<div class="viewcode-block" id="MiniDLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.MiniDLexer">[docs]</a><span class="k">class</span> <span class="nc">MiniDLexer</span><span class="p">(</span><span class="n">CrocLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For MiniD source. MiniD is now known as Croc.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;MiniD&#39;</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.md&#39;</span><span class="p">]</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;minid&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-minidsrc&#39;</span><span class="p">]</span>

</div>
<div class="viewcode-block" id="IoLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.IoLexer">[docs]</a><span class="k">class</span> <span class="nc">IoLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For `Io &lt;http://iolanguage.com/&gt;`_ (a small, prototype-based</span>
<span class="sd">    programming language) source.</span>

<span class="sd">    *New in Pygments 0.10.*</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Io&#39;</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.io&#39;</span><span class="p">]</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;io&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-iosrc&#39;</span><span class="p">]</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\n&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="c"># Comments</span>
            <span class="p">(</span><span class="s">r&#39;//(.*?)\n&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Single</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;#(.*?)\n&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Single</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;/(</span><span class="se">\\</span><span class="s">\n)?[*](.|\n)*?[*](</span><span class="se">\\</span><span class="s">\n)?/&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;/\+&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">,</span> <span class="s">&#39;nestedcomment&#39;</span><span class="p">),</span>
            <span class="c"># DoubleQuotedString</span>
            <span class="p">(</span><span class="s">r&#39;&quot;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&quot;|[^&quot;])*&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="c"># Operators</span>
            <span class="p">(</span><span class="s">r&#39;::=|:=|=|\(|\)|;|,|\*|-|\+|&gt;|&lt;|@|!|/|\||\^|\.|%|&amp;|\[|\]|\{|\}&#39;</span><span class="p">,</span>
             <span class="n">Operator</span><span class="p">),</span>
            <span class="c"># keywords</span>
            <span class="p">(</span><span class="s">r&#39;(clone|do|doFile|doString|method|for|if|else|elseif|then)\b&#39;</span><span class="p">,</span>
             <span class="n">Keyword</span><span class="p">),</span>
            <span class="c"># constants</span>
            <span class="p">(</span><span class="s">r&#39;(nil|false|true)\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Constant</span><span class="p">),</span>
            <span class="c"># names</span>
            <span class="p">(</span><span class="s">r&#39;(Object|list|List|Map|args|Sequence|Coroutine|File)\b&#39;</span><span class="p">,</span>
             <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;[a-zA-Z_][a-zA-Z0-9_]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="p">),</span>
            <span class="c"># numbers</span>
            <span class="p">(</span><span class="s">r&#39;(\d+\.?\d*|\d*\.\d+)([eE][+-]?[0-9]+)?&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\d+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Integer</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;nestedcomment&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;[^+/]+&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;/\+&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">,</span> <span class="s">&#39;#push&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\+/&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[+/]&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">),</span>
        <span class="p">]</span>
    <span class="p">}</span>

</div>
<div class="viewcode-block" id="TclLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.TclLexer">[docs]</a><span class="k">class</span> <span class="nc">TclLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For Tcl source code.</span>

<span class="sd">    *New in Pygments 0.10.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">keyword_cmds_re</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s">r&#39;\b(after|apply|array|break|catch|continue|elseif|else|error|&#39;</span>
        <span class="s">r&#39;eval|expr|for|foreach|global|if|namespace|proc|rename|return|&#39;</span>
        <span class="s">r&#39;set|switch|then|trace|unset|update|uplevel|upvar|variable|&#39;</span>
        <span class="s">r&#39;vwait|while)\b&#39;</span>
        <span class="p">)</span>

    <span class="n">builtin_cmds_re</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s">r&#39;\b(append|bgerror|binary|cd|chan|clock|close|concat|dde|dict|&#39;</span>
        <span class="s">r&#39;encoding|eof|exec|exit|fblocked|fconfigure|fcopy|file|&#39;</span>
        <span class="s">r&#39;fileevent|flush|format|gets|glob|history|http|incr|info|interp|&#39;</span>
        <span class="s">r&#39;join|lappend|lassign|lindex|linsert|list|llength|load|loadTk|&#39;</span>
        <span class="s">r&#39;lrange|lrepeat|lreplace|lreverse|lsearch|lset|lsort|mathfunc|&#39;</span>
        <span class="s">r&#39;mathop|memory|msgcat|open|package|pid|pkg::create|pkg_mkIndex|&#39;</span>
        <span class="s">r&#39;platform|platform::shell|puts|pwd|re_syntax|read|refchan|&#39;</span>
        <span class="s">r&#39;regexp|registry|regsub|scan|seek|socket|source|split|string|&#39;</span>
        <span class="s">r&#39;subst|tell|time|tm|unknown|unload)\b&#39;</span>
        <span class="p">)</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Tcl&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;tcl&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.tcl&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-tcl&#39;</span><span class="p">,</span> <span class="s">&#39;text/x-script.tcl&#39;</span><span class="p">,</span> <span class="s">&#39;application/x-tcl&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_gen_command_rules</span><span class="p">(</span><span class="n">keyword_cmds_re</span><span class="p">,</span> <span class="n">builtin_cmds_re</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">(</span><span class="n">keyword_cmds_re</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;params&#39;</span> <span class="o">+</span> <span class="n">context</span><span class="p">),</span>
            <span class="p">(</span><span class="n">builtin_cmds_re</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">,</span> <span class="s">&#39;params&#39;</span> <span class="o">+</span> <span class="n">context</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;([\w\.\-]+)&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">,</span> <span class="s">&#39;params&#39;</span> <span class="o">+</span> <span class="n">context</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;#&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="p">,</span> <span class="s">&#39;comment&#39;</span><span class="p">),</span>
        <span class="p">]</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;command&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;basic&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;data&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;}&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>  <span class="c"># HACK: somehow we miscounted our braces</span>
        <span class="p">],</span>
        <span class="s">&#39;command&#39;</span><span class="p">:</span> <span class="n">_gen_command_rules</span><span class="p">(</span><span class="n">keyword_cmds_re</span><span class="p">,</span> <span class="n">builtin_cmds_re</span><span class="p">),</span>
        <span class="s">&#39;command-in-brace&#39;</span><span class="p">:</span> <span class="n">_gen_command_rules</span><span class="p">(</span><span class="n">keyword_cmds_re</span><span class="p">,</span>
                                               <span class="n">builtin_cmds_re</span><span class="p">,</span>
                                               <span class="s">&quot;-in-brace&quot;</span><span class="p">),</span>
        <span class="s">&#39;command-in-bracket&#39;</span><span class="p">:</span> <span class="n">_gen_command_rules</span><span class="p">(</span><span class="n">keyword_cmds_re</span><span class="p">,</span>
                                                 <span class="n">builtin_cmds_re</span><span class="p">,</span>
                                                 <span class="s">&quot;-in-bracket&quot;</span><span class="p">),</span>
        <span class="s">&#39;command-in-paren&#39;</span><span class="p">:</span> <span class="n">_gen_command_rules</span><span class="p">(</span><span class="n">keyword_cmds_re</span><span class="p">,</span>
                                               <span class="n">builtin_cmds_re</span><span class="p">,</span>
                                               <span class="s">&quot;-in-paren&quot;</span><span class="p">),</span>
        <span class="s">&#39;basic&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\(&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;paren&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\[&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;bracket&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\{&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;brace&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">,</span> <span class="s">&#39;string&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(eq|ne|in|ni)\b&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">Word</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;!=|==|&lt;&lt;|&gt;&gt;|&lt;=|&gt;=|&amp;&amp;|\|\||\*\*|[-+~!*/%&lt;&gt;&amp;^|?:]&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;data&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;0x[a-fA-F0-9]+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Hex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;0[0-7]+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Oct</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\d+\.\d+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\d+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Integer</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\$([\w\.\-\:]+)&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;([\w\.\-\:]+)&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;params&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;;&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\n&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(else|elseif|then)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;basic&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;data&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;params-in-brace&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;}&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;#pop&#39;</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;params&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;params-in-paren&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\)&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;#pop&#39;</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;params&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;params-in-bracket&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\]&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="p">(</span><span class="s">&#39;#pop&#39;</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;params&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;string&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\[&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">,</span> <span class="s">&#39;string-square&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?s)(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[0-7]+|</span><span class="se">\\</span><span class="s">.|[^&quot;</span><span class="se">\\</span><span class="s">])&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;string-square&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\[&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">,</span> <span class="s">&#39;string-square&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?s)(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">[0-7]+|</span><span class="se">\\</span><span class="s">.|</span><span class="se">\\</span><span class="s">\n|[^\]</span><span class="se">\\</span><span class="s">])&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;brace&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;}&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;command-in-brace&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;basic&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;data&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;paren&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\)&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;command-in-paren&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;basic&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;data&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;bracket&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\]&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;command-in-bracket&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;basic&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;data&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;comment&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;.*[^</span><span class="se">\\</span><span class="s">]\n&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;.*</span><span class="se">\\</span><span class="s">\n&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="p">),</span>
        <span class="p">],</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">shebang_matches</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="s">r&#39;(tcl)&#39;</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="FactorLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.FactorLexer">[docs]</a><span class="k">class</span> <span class="nc">FactorLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Lexer for the `Factor &lt;http://factorcode.org&gt;`_ language.</span>

<span class="sd">    *New in Pygments 1.4.*</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Factor&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;factor&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.factor&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-factor&#39;</span><span class="p">]</span>

    <span class="n">flags</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">UNICODE</span>

    <span class="n">builtin_kernel</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s">r&#39;(?:or|2bi|2tri|while|wrapper|nip|4dip|wrapper</span><span class="se">\\</span><span class="s">?|bi</span><span class="se">\\</span><span class="s">*|&#39;</span>
        <span class="s">r&#39;callstack&gt;array|both</span><span class="se">\\</span><span class="s">?|hashcode|die|dupd|callstack|&#39;</span>
        <span class="s">r&#39;callstack</span><span class="se">\\</span><span class="s">?|3dup|tri@|pick|curry|build|</span><span class="se">\\</span><span class="s">?execute|3bi|&#39;</span>
        <span class="s">r&#39;prepose|&gt;boolean|</span><span class="se">\\</span><span class="s">?if|clone|eq</span><span class="se">\\</span><span class="s">?|tri</span><span class="se">\\</span><span class="s">*|</span><span class="se">\\</span><span class="s">?|=|swapd|&#39;</span>
        <span class="s">r&#39;2over|2keep|3keep|clear|2dup|when|not|tuple</span><span class="se">\\</span><span class="s">?|dup|2bi</span><span class="se">\\</span><span class="s">*|&#39;</span>
        <span class="s">r&#39;2tri</span><span class="se">\\</span><span class="s">*|call|tri-curry|object|bi@|do|unless</span><span class="se">\\</span><span class="s">*|if</span><span class="se">\\</span><span class="s">*|loop|&#39;</span>
        <span class="s">r&#39;bi-curry</span><span class="se">\\</span><span class="s">*|drop|when</span><span class="se">\\</span><span class="s">*|assert=|retainstack|assert</span><span class="se">\\</span><span class="s">?|-rot|&#39;</span>
        <span class="s">r&#39;execute|2bi@|2tri@|boa|with|either</span><span class="se">\\</span><span class="s">?|3drop|bi|curry</span><span class="se">\\</span><span class="s">?|&#39;</span>
        <span class="s">r&#39;datastack|until|3dip|over|3curry|tri-curry</span><span class="se">\\</span><span class="s">*|tri-curry@|swap|&#39;</span>
        <span class="s">r&#39;and|2nip|throw|bi-curry|</span><span class="se">\\</span><span class="s">(clone</span><span class="se">\\</span><span class="s">)|hashcode</span><span class="se">\\</span><span class="s">*|compose|2dip|if|3tri|&#39;</span>
        <span class="s">r&#39;unless|compose</span><span class="se">\\</span><span class="s">?|tuple|keep|2curry|equal</span><span class="se">\\</span><span class="s">?|assert|tri|2drop|&#39;</span>
        <span class="s">r&#39;most|&lt;wrapper&gt;|boolean</span><span class="se">\\</span><span class="s">?|identity-hashcode|identity-tuple</span><span class="se">\\</span><span class="s">?|&#39;</span>
        <span class="s">r&#39;null|new|dip|bi-curry@|rot|xor|identity-tuple|boolean)\s&#39;</span>
        <span class="p">)</span>

    <span class="n">builtin_assocs</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s">r&#39;(?:</span><span class="se">\\</span><span class="s">?at|assoc</span><span class="se">\\</span><span class="s">?|assoc-clone-like|assoc=|delete-at</span><span class="se">\\</span><span class="s">*|&#39;</span>
        <span class="s">r&#39;assoc-partition|extract-keys|new-assoc|value</span><span class="se">\\</span><span class="s">?|assoc-size|&#39;</span>
        <span class="s">r&#39;map&gt;assoc|push-at|assoc-like|key</span><span class="se">\\</span><span class="s">?|assoc-intersect|&#39;</span>
        <span class="s">r&#39;assoc-refine|update|assoc-union|assoc-combine|at</span><span class="se">\\</span><span class="s">*|&#39;</span>
        <span class="s">r&#39;assoc-empty</span><span class="se">\\</span><span class="s">?|at</span><span class="se">\\</span><span class="s">+|set-at|assoc-all</span><span class="se">\\</span><span class="s">?|assoc-subset</span><span class="se">\\</span><span class="s">?|&#39;</span>
        <span class="s">r&#39;assoc-hashcode|change-at|assoc-each|assoc-diff|zip|values|&#39;</span>
        <span class="s">r&#39;value-at|rename-at|inc-at|enum</span><span class="se">\\</span><span class="s">?|at|cache|assoc&gt;map|&lt;enum&gt;|&#39;</span>
        <span class="s">r&#39;assoc|assoc-map|enum|value-at</span><span class="se">\\</span><span class="s">*|assoc-map-as|&gt;alist|&#39;</span>
        <span class="s">r&#39;assoc-filter-as|clear-assoc|assoc-stack|maybe-set-at|&#39;</span>
        <span class="s">r&#39;substitute|assoc-filter|2cache|delete-at|assoc-find|keys|&#39;</span>
        <span class="s">r&#39;assoc-any</span><span class="se">\\</span><span class="s">?|unzip)\s&#39;</span>
        <span class="p">)</span>

    <span class="n">builtin_combinators</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s">r&#39;(?:case|execute-effect|no-cond|no-case</span><span class="se">\\</span><span class="s">?|3cleave&gt;quot|2cleave|&#39;</span>
        <span class="s">r&#39;cond&gt;quot|wrong-values</span><span class="se">\\</span><span class="s">?|no-cond</span><span class="se">\\</span><span class="s">?|cleave&gt;quot|no-case|&#39;</span>
        <span class="s">r&#39;case&gt;quot|3cleave|wrong-values|to-fixed-point|alist&gt;quot|&#39;</span>
        <span class="s">r&#39;case-find|cond|cleave|call-effect|2cleave&gt;quot|recursive-hashcode|&#39;</span>
        <span class="s">r&#39;linear-case-quot|spread|spread&gt;quot)\s&#39;</span>
        <span class="p">)</span>

    <span class="n">builtin_math</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s">r&#39;(?:number=|if-zero|next-power-of-2|each-integer|</span><span class="se">\\</span><span class="s">?1</span><span class="se">\\</span><span class="s">+|&#39;</span>
        <span class="s">r&#39;fp-special</span><span class="se">\\</span><span class="s">?|imaginary-part|unless-zero|float&gt;bits|number</span><span class="se">\\</span><span class="s">?|&#39;</span>
        <span class="s">r&#39;fp-infinity</span><span class="se">\\</span><span class="s">?|bignum</span><span class="se">\\</span><span class="s">?|fp-snan</span><span class="se">\\</span><span class="s">?|denominator|fp-bitwise=|</span><span class="se">\\</span><span class="s">*|&#39;</span>
        <span class="s">r&#39;</span><span class="se">\\</span><span class="s">+|power-of-2</span><span class="se">\\</span><span class="s">?|-|u&gt;=|/|&gt;=|bitand|log2-expects-positive|&lt;|&#39;</span>
        <span class="s">r&#39;log2|&gt;|integer</span><span class="se">\\</span><span class="s">?|number|bits&gt;double|2/|zero</span><span class="se">\\</span><span class="s">?|(find-integer)|&#39;</span>
        <span class="s">r&#39;bits&gt;float|float</span><span class="se">\\</span><span class="s">?|shift|ratio</span><span class="se">\\</span><span class="s">?|even</span><span class="se">\\</span><span class="s">?|ratio|fp-sign|bitnot|&#39;</span>
        <span class="s">r&#39;&gt;fixnum|complex</span><span class="se">\\</span><span class="s">?|/i|/f|byte-array&gt;bignum|when-zero|sgn|&gt;bignum|&#39;</span>
        <span class="s">r&#39;next-float|u&lt;|u&gt;|mod|recip|rational|find-last-integer|&gt;float|&#39;</span>
        <span class="s">r&#39;(all-integers</span><span class="se">\\</span><span class="s">?)|2^|times|integer|fixnum</span><span class="se">\\</span><span class="s">?|neg|fixnum|sq|&#39;</span>
        <span class="s">r&#39;bignum|(each-integer)|bit</span><span class="se">\\</span><span class="s">?|fp-qnan</span><span class="se">\\</span><span class="s">?|find-integer|complex|&#39;</span>
        <span class="s">r&#39;&lt;fp-nan&gt;|real|double&gt;bits|bitor|rem|fp-nan-payload|all-integers</span><span class="se">\\</span><span class="s">?|&#39;</span>
        <span class="s">r&#39;real-part|log2-expects-positive</span><span class="se">\\</span><span class="s">?|prev-float|align|unordered</span><span class="se">\\</span><span class="s">?|&#39;</span>
        <span class="s">r&#39;float|fp-nan</span><span class="se">\\</span><span class="s">?|abs|bitxor|u&lt;=|odd</span><span class="se">\\</span><span class="s">?|&lt;=|/mod|rational</span><span class="se">\\</span><span class="s">?|&gt;integer|&#39;</span>
        <span class="s">r&#39;real</span><span class="se">\\</span><span class="s">?|numerator)\s&#39;</span>
        <span class="p">)</span>

    <span class="n">builtin_sequences</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s">r&#39;(?:member-eq</span><span class="se">\\</span><span class="s">?|append|assert-sequence=|find-last-from|trim-head-slice|&#39;</span>
        <span class="s">r&#39;clone-like|3sequence|assert-sequence</span><span class="se">\\</span><span class="s">?|map-as|last-index-from|&#39;</span>
        <span class="s">r&#39;reversed|index-from|cut</span><span class="se">\\</span><span class="s">*|pad-tail|remove-eq!|concat-as|&#39;</span>
        <span class="s">r&#39;but-last|snip|trim-tail|nths|nth|2selector|sequence|slice</span><span class="se">\\</span><span class="s">?|&#39;</span>
        <span class="s">r&#39;&lt;slice&gt;|partition|remove-nth|tail-slice|empty</span><span class="se">\\</span><span class="s">?|tail</span><span class="se">\\</span><span class="s">*|&#39;</span>
        <span class="s">r&#39;if-empty|find-from|virtual-sequence</span><span class="se">\\</span><span class="s">?|member</span><span class="se">\\</span><span class="s">?|set-length|&#39;</span>
        <span class="s">r&#39;drop-prefix|unclip|unclip-last-slice|iota|map-sum|&#39;</span>
        <span class="s">r&#39;bounds-error</span><span class="se">\\</span><span class="s">?|sequence-hashcode-step|selector-for|&#39;</span>
        <span class="s">r&#39;accumulate-as|map|start|midpoint@|</span><span class="se">\\</span><span class="s">(accumulate</span><span class="se">\\</span><span class="s">)|rest-slice|&#39;</span>
        <span class="s">r&#39;prepend|fourth|sift|accumulate!|new-sequence|follow|map!|&#39;</span>
        <span class="s">r&#39;like|first4|1sequence|reverse|slice|unless-empty|padding|&#39;</span>
        <span class="s">r&#39;virtual@|repetition</span><span class="se">\\</span><span class="s">?|set-last|index|4sequence|max-length|&#39;</span>
        <span class="s">r&#39;set-second|immutable-sequence|first2|first3|replicate-as|&#39;</span>
        <span class="s">r&#39;reduce-index|unclip-slice|supremum|suffix!|insert-nth|&#39;</span>
        <span class="s">r&#39;trim-tail-slice|tail|3append|short|count|suffix|concat|&#39;</span>
        <span class="s">r&#39;flip|filter|sum|immutable</span><span class="se">\\</span><span class="s">?|reverse!|2sequence|map-integers|&#39;</span>
        <span class="s">r&#39;delete-all|start</span><span class="se">\\</span><span class="s">*|indices|snip-slice|check-slice|sequence</span><span class="se">\\</span><span class="s">?|&#39;</span>
        <span class="s">r&#39;head|map-find|filter!|append-as|reduce|sequence=|halves|&#39;</span>
        <span class="s">r&#39;collapse-slice|interleave|2map|filter-as|binary-reduce|&#39;</span>
        <span class="s">r&#39;slice-error</span><span class="se">\\</span><span class="s">?|product|bounds-check</span><span class="se">\\</span><span class="s">?|bounds-check|harvest|&#39;</span>
        <span class="s">r&#39;immutable|virtual-exemplar|find|produce|remove|pad-head|last|&#39;</span>
        <span class="s">r&#39;replicate|set-fourth|remove-eq|shorten|reversed</span><span class="se">\\</span><span class="s">?|&#39;</span>
        <span class="s">r&#39;map-find-last|3map-as|2unclip-slice|shorter</span><span class="se">\\</span><span class="s">?|3map|find-last|&#39;</span>
        <span class="s">r&#39;head-slice|pop</span><span class="se">\\</span><span class="s">*|2map-as|tail-slice</span><span class="se">\\</span><span class="s">*|but-last-slice|&#39;</span>
        <span class="s">r&#39;2map-reduce|iota</span><span class="se">\\</span><span class="s">?|collector-for|accumulate|each|selector|&#39;</span>
        <span class="s">r&#39;append!|new-resizable|cut-slice|each-index|head-slice</span><span class="se">\\</span><span class="s">*|&#39;</span>
        <span class="s">r&#39;2reverse-each|sequence-hashcode|pop|set-nth|</span><span class="se">\\</span><span class="s">?nth|&#39;</span>
        <span class="s">r&#39;&lt;flat-slice&gt;|second|join|when-empty|collector|&#39;</span>
        <span class="s">r&#39;immutable-sequence</span><span class="se">\\</span><span class="s">?|&lt;reversed&gt;|all</span><span class="se">\\</span><span class="s">?|3append-as|&#39;</span>
        <span class="s">r&#39;virtual-sequence|subseq</span><span class="se">\\</span><span class="s">?|remove-nth!|push-either|new-like|&#39;</span>
        <span class="s">r&#39;length|last-index|push-if|2all</span><span class="se">\\</span><span class="s">?|lengthen|assert-sequence|&#39;</span>
        <span class="s">r&#39;copy|map-reduce|move|third|first|3each|tail</span><span class="se">\\</span><span class="s">?|set-first|&#39;</span>
        <span class="s">r&#39;prefix|bounds-error|any</span><span class="se">\\</span><span class="s">?|&lt;repetition&gt;|trim-slice|exchange|&#39;</span>
        <span class="s">r&#39;surround|2reduce|cut|change-nth|min-length|set-third|produce-as|&#39;</span>
        <span class="s">r&#39;push-all|head</span><span class="se">\\</span><span class="s">?|delete-slice|rest|sum-lengths|2each|head</span><span class="se">\\</span><span class="s">*|&#39;</span>
        <span class="s">r&#39;infimum|remove!|glue|slice-error|subseq|trim|replace-slice|&#39;</span>
        <span class="s">r&#39;push|repetition|map-index|trim-head|unclip-last|mismatch)\s&#39;</span>
        <span class="p">)</span>

    <span class="n">builtin_namespaces</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s">r&#39;(?:global|</span><span class="se">\\</span><span class="s">+@|change|set-namestack|change-global|init-namespaces|&#39;</span>
        <span class="s">r&#39;on|off|set-global|namespace|set|with-scope|bind|with-variable|&#39;</span>
        <span class="s">r&#39;inc|dec|counter|initialize|namestack|get|get-global|make-assoc)\s&#39;</span>
        <span class="p">)</span>

    <span class="n">builtin_arrays</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s">r&#39;(?:&lt;array&gt;|2array|3array|pair|&gt;array|1array|4array|pair</span><span class="se">\\</span><span class="s">?|&#39;</span>
        <span class="s">r&#39;array|resize-array|array</span><span class="se">\\</span><span class="s">?)\s&#39;</span>
        <span class="p">)</span>

    <span class="n">builtin_io</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s">r&#39;(?:</span><span class="se">\\</span><span class="s">+character</span><span class="se">\\</span><span class="s">+|bad-seek-type</span><span class="se">\\</span><span class="s">?|readln|each-morsel|stream-seek|&#39;</span>
        <span class="s">r&#39;read|print|with-output-stream|contents|write1|stream-write1|&#39;</span>
        <span class="s">r&#39;stream-copy|stream-element-type|with-input-stream|&#39;</span>
        <span class="s">r&#39;stream-print|stream-read|stream-contents|stream-tell|&#39;</span>
        <span class="s">r&#39;tell-output|bl|seek-output|bad-seek-type|nl|stream-nl|write|&#39;</span>
        <span class="s">r&#39;flush|stream-lines|</span><span class="se">\\</span><span class="s">+byte</span><span class="se">\\</span><span class="s">+|stream-flush|read1|&#39;</span>
        <span class="s">r&#39;seek-absolute</span><span class="se">\\</span><span class="s">?|stream-read1|lines|stream-readln|&#39;</span>
        <span class="s">r&#39;stream-read-until|each-line|seek-end|with-output-stream</span><span class="se">\\</span><span class="s">*|&#39;</span>
        <span class="s">r&#39;seek-absolute|with-streams|seek-input|seek-relative</span><span class="se">\\</span><span class="s">?|&#39;</span>
        <span class="s">r&#39;input-stream|stream-write|read-partial|seek-end</span><span class="se">\\</span><span class="s">?|&#39;</span>
        <span class="s">r&#39;seek-relative|error-stream|read-until|with-input-stream</span><span class="se">\\</span><span class="s">*|&#39;</span>
        <span class="s">r&#39;with-streams</span><span class="se">\\</span><span class="s">*|tell-input|each-block|output-stream|&#39;</span>
        <span class="s">r&#39;stream-read-partial|each-stream-block|each-stream-line)\s&#39;</span>
        <span class="p">)</span>

    <span class="n">builtin_strings</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s">r&#39;(?:resize-string|&gt;string|&lt;string&gt;|1string|string|string</span><span class="se">\\</span><span class="s">?)\s&#39;</span>
        <span class="p">)</span>

    <span class="n">builtin_vectors</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s">r&#39;(?:vector</span><span class="se">\\</span><span class="s">?|&lt;vector&gt;|</span><span class="se">\\</span><span class="s">?push|vector|&gt;vector|1vector)\s&#39;</span>
        <span class="p">)</span>

    <span class="n">builtin_continuations</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s">r&#39;(?:with-return|restarts|return-continuation|with-datastack|&#39;</span>
        <span class="s">r&#39;recover|rethrow-restarts|&lt;restart&gt;|ifcc|set-catchstack|&#39;</span>
        <span class="s">r&#39;&gt;continuation&lt;|cleanup|ignore-errors|restart</span><span class="se">\\</span><span class="s">?|&#39;</span>
        <span class="s">r&#39;compute-restarts|attempt-all-error|error-thread|continue|&#39;</span>
        <span class="s">r&#39;&lt;continuation&gt;|attempt-all-error</span><span class="se">\\</span><span class="s">?|condition</span><span class="se">\\</span><span class="s">?|&#39;</span>
        <span class="s">r&#39;&lt;condition&gt;|throw-restarts|error|catchstack|continue-with|&#39;</span>
        <span class="s">r&#39;thread-error-hook|continuation|rethrow|callcc1|&#39;</span>
        <span class="s">r&#39;error-continuation|callcc0|attempt-all|condition|&#39;</span>
        <span class="s">r&#39;continuation</span><span class="se">\\</span><span class="s">?|restart|return)\s&#39;</span>
        <span class="p">)</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="c"># TODO: (( inputs -- outputs ))</span>
            <span class="c"># TODO: &lt;&lt; ... &gt;&gt;</span>

            <span class="c"># defining words</span>
            <span class="p">(</span><span class="s">r&#39;(\s*)(:|::|MACRO:|MEMO:)(\s+)(\S+)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(\s*)(M:)(\s+)(\S+)(\s+)(\S+)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(\s*)(GENERIC:)(\s+)(\S+)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(\s*)(HOOK:|GENERIC#)(\s+)(\S+)(\s+)(\S+)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(\()(\s+)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span> <span class="s">&#39;stackeffect&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\;\s&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>

            <span class="c"># imports and namespaces</span>
            <span class="p">(</span><span class="s">r&#39;(USING:)((?:\s|</span><span class="se">\\</span><span class="s">\s)+)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span> <span class="s">&#39;import&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(USE:)(\s+)(\S+)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(UNUSE:)(\s+)(\S+)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(QUALIFIED:)(\s+)(\S+)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(QUALIFIED-WITH:)(\s+)(\S+)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(FROM:|EXCLUDE:)(\s+)(\S+)(\s+)(=&gt;)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Text</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(IN:)(\s+)(\S+)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(?:ALIAS|DEFER|FORGET|POSTPONE):&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="o">.</span><span class="n">Namespace</span><span class="p">),</span>

            <span class="c"># tuples and classes</span>
            <span class="p">(</span><span class="s">r&#39;(TUPLE:)(\s+)(\S+)(\s+&lt;\s+)(\S+)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">),</span> <span class="s">&#39;slots&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(TUPLE:)(\s+)(\S+)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">),</span> <span class="s">&#39;slots&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(UNION:)(\s+)(\S+)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(INTERSECTION:)(\s+)(\S+)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(PREDICATE:)(\s+)(\S+)(\s+&lt;\s+)(\S+)&#39;</span><span class="p">,</span>
                <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(C:)(\s+)(\S+)(\s+)(\S+)&#39;</span><span class="p">,</span>
                <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Class</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;INSTANCE:&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;SLOT:&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;MIXIN:&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?:SINGLETON|SINGLETONS):&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>

            <span class="c"># other syntax</span>
            <span class="p">(</span><span class="s">r&#39;CONSTANT:&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?:SYMBOL|SYMBOLS):&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;ERROR:&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;SYNTAX:&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(HELP:)(\s+)(\S+)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(MAIN:)(\s+)(\S+)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="o">.</span><span class="n">Namespace</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(?:ALIEN|TYPEDEF|FUNCTION|STRUCT):&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>

            <span class="c"># vocab.private</span>
            <span class="c"># TODO: words inside vocab.private should have red names?</span>
            <span class="p">(</span><span class="s">r&#39;(?:&lt;PRIVATE|PRIVATE&gt;)&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="o">.</span><span class="n">Namespace</span><span class="p">),</span>

            <span class="c"># strings</span>
            <span class="p">(</span><span class="s">r&#39;&quot;&quot;&quot;\s+(?:.|\n)*?\s+&quot;&quot;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&quot;(?:</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&quot;|[^&quot;])*&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;CHAR:\s+(</span><span class="se">\\</span><span class="s">[</span><span class="se">\\</span><span class="s">abfnrstv]*|\S)\s&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Char</span><span class="p">),</span>

            <span class="c"># comments</span>
            <span class="p">(</span><span class="s">r&#39;\!\s+.*$&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;#\!\s+.*$&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="p">),</span>

            <span class="c"># boolean constants</span>
            <span class="p">(</span><span class="s">r&#39;(t|f)\s&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Constant</span><span class="p">),</span>

            <span class="c"># numbers</span>
            <span class="p">(</span><span class="s">r&#39;-?\d+\.\d+\s&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;-?\d+\s&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Integer</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;HEX:\s+[a-fA-F\d]+\s&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Hex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;BIN:\s+[01]+\s&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Integer</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;OCT:\s+[0-7]+\s&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Oct</span><span class="p">),</span>

            <span class="c"># operators</span>
            <span class="p">(</span><span class="s">r&#39;[-+/*=&lt;&gt;^]\s&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>

            <span class="c"># keywords</span>
            <span class="p">(</span><span class="s">r&#39;(?:deprecated|final|foldable|flushable|inline|recursive)\s&#39;</span><span class="p">,</span>
             <span class="n">Keyword</span><span class="p">),</span>

            <span class="c"># builtins</span>
            <span class="p">(</span><span class="n">builtin_kernel</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="n">builtin_assocs</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="n">builtin_combinators</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="n">builtin_math</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="n">builtin_sequences</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="n">builtin_namespaces</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="n">builtin_arrays</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="n">builtin_io</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="n">builtin_strings</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="n">builtin_vectors</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="n">builtin_continuations</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>

            <span class="c"># whitespaces - usually not relevant</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>

            <span class="c"># everything else is text</span>
            <span class="p">(</span><span class="s">r&#39;\S+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
        <span class="p">],</span>

        <span class="s">&#39;stackeffect&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\s*\(&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="s">&#39;stackeffect&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\)&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\-\-&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\S+&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">),</span>
        <span class="p">],</span>

        <span class="s">&#39;slots&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;;\s&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\S+&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">),</span>
        <span class="p">],</span>

        <span class="s">&#39;import&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;;&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\S+&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Namespace</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
        <span class="p">],</span>
    <span class="p">}</span>

</div>
<div class="viewcode-block" id="FancyLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.FancyLexer">[docs]</a><span class="k">class</span> <span class="nc">FancyLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Pygments Lexer For `Fancy &lt;http://www.fancy-lang.org/&gt;`_.</span>

<span class="sd">    Fancy is a self-hosted, pure object-oriented, dynamic,</span>
<span class="sd">    class-based, concurrent general-purpose programming language</span>
<span class="sd">    running on Rubinius, the Ruby VM.</span>

<span class="sd">    *New in Pygments 1.5.*</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Fancy&#39;</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.fy&#39;</span><span class="p">,</span> <span class="s">&#39;*.fancypack&#39;</span><span class="p">]</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;fancy&#39;</span><span class="p">,</span> <span class="s">&#39;fy&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-fancysrc&#39;</span><span class="p">]</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="c"># copied from PerlLexer:</span>
        <span class="s">&#39;balanced-regex&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;/(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">/|[^/])*/[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;!(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">!|[^!])*![egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">(</span><span class="se">\\\\</span><span class="s">|[^</span><span class="se">\\</span><span class="s">])*</span><span class="se">\\</span><span class="s">[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;{(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">}|[^}])*}[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&gt;|[^&gt;])*&gt;[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\[(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">\]|[^\]])*\][egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\((</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">\)|[^\)])*\)[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;@(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">\@|[^\@])*@[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;%(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">\%|[^\%])*%[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\$(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">\$|[^\$])*\$[egimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>

            <span class="c"># balanced delimiters (copied from PerlLexer):</span>
            <span class="p">(</span><span class="s">r&#39;s{(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">}|[^}])*}\s*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;balanced-regex&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;s&lt;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&gt;|[^&gt;])*&gt;\s*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;balanced-regex&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;s\[(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">\]|[^\]])*\]\s*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;balanced-regex&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;s\((</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">\)|[^\)])*\)\s*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;balanced-regex&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;m?/(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">/|[^/\n])*/[gcimosx]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;m(?=[/!</span><span class="se">\\</span><span class="s">{&lt;\[\(@%\$])&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Regex</span><span class="p">,</span> <span class="s">&#39;balanced-regex&#39;</span><span class="p">),</span>

            <span class="c"># Comments</span>
            <span class="p">(</span><span class="s">r&#39;#(.*?)\n&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Single</span><span class="p">),</span>
            <span class="c"># Symbols</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\&#39;</span><span class="s">([^</span><span class="se">\&#39;</span><span class="s">\s\[\]\(\)\{\}]+|\[\])&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Symbol</span><span class="p">),</span>
            <span class="c"># Multi-line DoubleQuotedString</span>
            <span class="p">(</span><span class="s">r&#39;&quot;&quot;&quot;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&quot;|[^&quot;])*&quot;&quot;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="c"># DoubleQuotedString</span>
            <span class="p">(</span><span class="s">r&#39;&quot;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&quot;|[^&quot;])*&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="c"># keywords</span>
            <span class="p">(</span><span class="s">r&#39;(def|class|try|catch|finally|retry|return|return_local|match|&#39;</span>
             <span class="s">r&#39;case|-&gt;|=&gt;)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
            <span class="c"># constants</span>
            <span class="p">(</span><span class="s">r&#39;(self|super|nil|false|true)\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Constant</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[(){};,/?\|:</span><span class="se">\\</span><span class="s">]&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">),</span>
            <span class="c"># names</span>
            <span class="p">(</span><span class="s">r&#39;(Object|Array|Hash|Directory|File|Class|String|Number|&#39;</span>
             <span class="s">r&#39;Enumerable|FancyEnumerable|Block|TrueClass|NilClass|&#39;</span>
             <span class="s">r&#39;FalseClass|Tuple|Symbol|Stack|Set|FancySpec|Method|Package|&#39;</span>
             <span class="s">r&#39;Range)\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="c"># functions</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z]([a-zA-Z0-9_]|[-+?!=*/^&gt;&lt;%])*:&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">),</span>
            <span class="c"># operators, must be below functions</span>
            <span class="p">(</span><span class="s">r&#39;[-+*/~,&lt;&gt;=&amp;!?%^\[\]\.$]+&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;[A-Z][a-zA-Z0-9_]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Constant</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;@[a-zA-Z_][a-zA-Z0-9_]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="o">.</span><span class="n">Instance</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;@@[a-zA-Z_][a-zA-Z0-9_]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="o">.</span><span class="n">Class</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;@@?&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&#39;[a-zA-Z_][a-zA-Z0-9_]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="p">),</span>
            <span class="c"># numbers - / checks are necessary to avoid mismarking regexes,</span>
            <span class="c"># see comment in RubyLexer</span>
            <span class="p">(</span><span class="s">r&#39;(0[oO]?[0-7]+(?:_[0-7]+)*)(\s*)([/?])?&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Number</span><span class="o">.</span><span class="n">Oct</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Operator</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(0[xX][0-9A-Fa-f]+(?:_[0-9A-Fa-f]+)*)(\s*)([/?])?&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Number</span><span class="o">.</span><span class="n">Hex</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Operator</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(0[bB][01]+(?:_[01]+)*)(\s*)([/?])?&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Number</span><span class="o">.</span><span class="n">Bin</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Operator</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;([\d]+(?:_\d+)*)(\s*)([/?])?&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Number</span><span class="o">.</span><span class="n">Integer</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Operator</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;\d+([eE][+-]?[0-9]+)|\d+\.\d+([eE][+-]?[0-9]+)?&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\d+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Integer</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">}</span>

</div>
<div class="viewcode-block" id="DgLexer"><a class="viewcode-back" href="../../../lexers/agile.html#pygments.lexers.agile.DgLexer">[docs]</a><span class="k">class</span> <span class="nc">DgLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Lexer for `dg &lt;http://pyos.github.com/dg&gt;`_,</span>
<span class="sd">    a functional and object-oriented programming language</span>
<span class="sd">    running on the CPython 3 VM.</span>

<span class="sd">    *New in Pygments 1.6.*</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;dg&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;dg&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.dg&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-dg&#39;</span><span class="p">]</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="c"># Whitespace:</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;#.*?$&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Single</span><span class="p">),</span>
            <span class="c"># Lexemes:</span>
            <span class="c">#  Numbers</span>
            <span class="p">(</span><span class="s">r&#39;0[bB][01]+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Bin</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;0[oO][0-7]+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Oct</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;0[xX][\da-fA-F]+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Hex</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[+-]?\d+\.\d+([eE][+-]?\d+)?[jJ]?&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[+-]?\d+[eE][+-]?\d+[jJ]?&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Float</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[+-]?\d+[jJ]?&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="o">.</span><span class="n">Integer</span><span class="p">),</span>
            <span class="c">#  Character/String Literals</span>
            <span class="p">(</span><span class="s">r&quot;[br]*&#39;&#39;&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">combined</span><span class="p">(</span><span class="s">&#39;stringescape&#39;</span><span class="p">,</span> <span class="s">&#39;tsqs&#39;</span><span class="p">,</span> <span class="s">&#39;string&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;[br]*&quot;&quot;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">combined</span><span class="p">(</span><span class="s">&#39;stringescape&#39;</span><span class="p">,</span> <span class="s">&#39;tdqs&#39;</span><span class="p">,</span> <span class="s">&#39;string&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&quot;[br]*&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">combined</span><span class="p">(</span><span class="s">&#39;stringescape&#39;</span><span class="p">,</span> <span class="s">&#39;sqs&#39;</span><span class="p">,</span> <span class="s">&#39;string&#39;</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;[br]*&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">combined</span><span class="p">(</span><span class="s">&#39;stringescape&#39;</span><span class="p">,</span> <span class="s">&#39;dqs&#39;</span><span class="p">,</span> <span class="s">&#39;string&#39;</span><span class="p">)),</span>
            <span class="c">#  Operators</span>
            <span class="p">(</span><span class="s">r&quot;`\w+&#39;*`&quot;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span> <span class="c"># Infix links</span>
            <span class="c">#   Reserved infix links</span>
            <span class="p">(</span><span class="s">r&#39;\b(or|and|if|else|where|is|in)\b&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="o">.</span><span class="n">Word</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[!$%&amp;*+\-./:&lt;-@</span><span class="se">\\</span><span class="s">^|~;,]+&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="c">#  Identifiers</span>
            <span class="c">#   Python 3 types</span>
            <span class="p">(</span><span class="s">r&quot;(?&lt;!\.)(bool|bytearray|bytes|classmethod|complex|dict&#39;?|&quot;</span>
             <span class="s">r&quot;float|frozenset|int|list&#39;?|memoryview|object|property|range|&quot;</span>
             <span class="s">r&quot;set&#39;?|slice|staticmethod|str|super|tuple&#39;?|type)&quot;</span>
             <span class="s">r&quot;(?![&#39;\w])&quot;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="c">#   Python 3 builtins + some more</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;!\.)(__import__|abs|all|any|bin|bind|chr|cmp|compile|complex|&#39;</span>
             <span class="s">r&#39;delattr|dir|divmod|drop|dropwhile|enumerate|eval|filter|flip|&#39;</span>
             <span class="s">r&#39;foldl1?|format|fst|getattr|globals|hasattr|hash|head|hex|id|&#39;</span>
             <span class="s">r&#39;init|input|isinstance|issubclass|iter|iterate|last|len|locals|&#39;</span>
             <span class="s">r&#39;map|max|min|next|oct|open|ord|pow|print|repr|reversed|round|&#39;</span>
             <span class="s">r&#39;setattr|scanl1?|snd|sorted|sum|tail|take|takewhile|vars|zip)&#39;</span>
             <span class="s">r&quot;(?![&#39;\w])&quot;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;(?&lt;!\.)(self|Ellipsis|NotImplemented|None|True|False)(?![&#39;\w])&quot;</span><span class="p">,</span>
             <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="o">.</span><span class="n">Pseudo</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;(?&lt;!\.)[A-Z]\w*(Error|Exception|Warning)&#39;*(?![&#39;\w])&quot;</span><span class="p">,</span>
             <span class="n">Name</span><span class="o">.</span><span class="n">Exception</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;(?&lt;!\.)(KeyboardInterrupt|SystemExit|StopIteration|&quot;</span>
             <span class="s">r&quot;GeneratorExit)(?![&#39;\w])&quot;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Exception</span><span class="p">),</span>
            <span class="c">#   Compiler-defined identifiers</span>
            <span class="p">(</span><span class="s">r&quot;(?&lt;![\.\w])(import|inherit|for|while|switch|not|raise|unsafe|&quot;</span>
             <span class="s">r&quot;yield|with)(?![&#39;\w])&quot;</span><span class="p">,</span> <span class="n">Keyword</span><span class="o">.</span><span class="n">Reserved</span><span class="p">),</span>
            <span class="c">#   Other links</span>
            <span class="p">(</span><span class="s">r&quot;[A-Z_&#39;]+\b&quot;</span><span class="p">,</span> <span class="n">Name</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;[A-Z][\w&#39;]*\b&quot;</span><span class="p">,</span> <span class="n">Keyword</span><span class="o">.</span><span class="n">Type</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;\w+&#39;*&quot;</span><span class="p">,</span> <span class="n">Name</span><span class="p">),</span>
            <span class="c">#  Blocks</span>
            <span class="p">(</span><span class="s">r&#39;[()]&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;stringescape&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;</span><span class="se">\\</span><span class="s">([</span><span class="se">\\</span><span class="s">abfnrtv&quot;</span><span class="se">\&#39;</span><span class="s">]|\n|N{.*?}|u[a-fA-F0-9]{4}|&#39;</span>
             <span class="s">r&#39;U[a-fA-F0-9]{8}|x[a-fA-F0-9]{2}|[0-7]{1,3})&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Escape</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;string&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;%(\([a-zA-Z0-9_]+\))?[-#0 +]*([0-9]+|[*])?(\.([0-9]+|[*]))?&#39;</span>
             <span class="s">&#39;[hlL]?[diouxXeEfFgGcrs%]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Interpol</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^</span><span class="se">\\\&#39;</span><span class="s">&quot;%\n]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="c"># quotes, percents and backslashes must be parsed one at a time</span>
            <span class="p">(</span><span class="s">r&#39;[</span><span class="se">\&#39;</span><span class="s">&quot;</span><span class="se">\\</span><span class="s">]&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="c"># unhandled string formatting sign</span>
            <span class="p">(</span><span class="s">r&#39;%&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\n&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;dqs&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;sqs&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&quot;&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;tdqs&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;&quot;&quot;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;tsqs&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&quot;&#39;&#39;&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
    <span class="p">}</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">pygments-doc 1.1.3 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li>
          <li><a href="../../pygments.html" >pygments</a> &raquo;</li>
          <li><a href="../lexers.html" >pygments.lexers</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Turbidsoul Chen.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>