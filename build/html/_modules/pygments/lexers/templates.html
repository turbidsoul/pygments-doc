

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pygments.lexers.templates &mdash; pygments-doc 1.1.3 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="pygments-doc 1.1.3 documentation" href="../../../index.html" />
    <link rel="up" title="pygments.lexers" href="../lexers.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">pygments-doc 1.1.3 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li>
          <li><a href="../../pygments.html" >pygments</a> &raquo;</li>
          <li><a href="../lexers.html" accesskey="U">pygments.lexers</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for pygments.lexers.templates</h1><div class="highlight"><pre>
<span class="c"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    pygments.lexers.templates</span>
<span class="sd">    ~~~~~~~~~~~~~~~~~~~~~~~~~</span>

<span class="sd">    Lexers for various template engines&#39; markup.</span>

<span class="sd">    :copyright: Copyright 2006-2013 by the Pygments team, see AUTHORS.</span>
<span class="sd">    :license: BSD, see LICENSE for details.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">re</span>

<span class="kn">from</span> <span class="nn">pygments.lexers.web</span> <span class="kn">import</span> \
     <span class="n">PhpLexer</span><span class="p">,</span> <span class="n">HtmlLexer</span><span class="p">,</span> <span class="n">XmlLexer</span><span class="p">,</span> <span class="n">JavascriptLexer</span><span class="p">,</span> <span class="n">CssLexer</span><span class="p">,</span> <span class="n">LassoLexer</span>
<span class="kn">from</span> <span class="nn">pygments.lexers.agile</span> <span class="kn">import</span> <span class="n">PythonLexer</span><span class="p">,</span> <span class="n">PerlLexer</span>
<span class="kn">from</span> <span class="nn">pygments.lexers.compiled</span> <span class="kn">import</span> <span class="n">JavaLexer</span>
<span class="kn">from</span> <span class="nn">pygments.lexers.jvm</span> <span class="kn">import</span> <span class="n">TeaLangLexer</span>
<span class="kn">from</span> <span class="nn">pygments.lexer</span> <span class="kn">import</span> <span class="n">Lexer</span><span class="p">,</span> <span class="n">DelegatingLexer</span><span class="p">,</span> <span class="n">RegexLexer</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">,</span> \
     <span class="n">include</span><span class="p">,</span> <span class="n">using</span><span class="p">,</span> <span class="n">this</span>
<span class="kn">from</span> <span class="nn">pygments.token</span> <span class="kn">import</span> <span class="n">Error</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> \
     <span class="n">Text</span><span class="p">,</span> <span class="n">Comment</span><span class="p">,</span> <span class="n">Operator</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Name</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Number</span><span class="p">,</span> <span class="n">Other</span><span class="p">,</span> <span class="n">Token</span>
<span class="kn">from</span> <span class="nn">pygments.util</span> <span class="kn">import</span> <span class="n">html_doctype_matches</span><span class="p">,</span> <span class="n">looks_like_xml</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;HtmlPhpLexer&#39;</span><span class="p">,</span> <span class="s">&#39;XmlPhpLexer&#39;</span><span class="p">,</span> <span class="s">&#39;CssPhpLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;JavascriptPhpLexer&#39;</span><span class="p">,</span> <span class="s">&#39;ErbLexer&#39;</span><span class="p">,</span> <span class="s">&#39;RhtmlLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;XmlErbLexer&#39;</span><span class="p">,</span> <span class="s">&#39;CssErbLexer&#39;</span><span class="p">,</span> <span class="s">&#39;JavascriptErbLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;SmartyLexer&#39;</span><span class="p">,</span> <span class="s">&#39;HtmlSmartyLexer&#39;</span><span class="p">,</span> <span class="s">&#39;XmlSmartyLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;CssSmartyLexer&#39;</span><span class="p">,</span> <span class="s">&#39;JavascriptSmartyLexer&#39;</span><span class="p">,</span> <span class="s">&#39;DjangoLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;HtmlDjangoLexer&#39;</span><span class="p">,</span> <span class="s">&#39;CssDjangoLexer&#39;</span><span class="p">,</span> <span class="s">&#39;XmlDjangoLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;JavascriptDjangoLexer&#39;</span><span class="p">,</span> <span class="s">&#39;GenshiLexer&#39;</span><span class="p">,</span> <span class="s">&#39;HtmlGenshiLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;GenshiTextLexer&#39;</span><span class="p">,</span> <span class="s">&#39;CssGenshiLexer&#39;</span><span class="p">,</span> <span class="s">&#39;JavascriptGenshiLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;MyghtyLexer&#39;</span><span class="p">,</span> <span class="s">&#39;MyghtyHtmlLexer&#39;</span><span class="p">,</span> <span class="s">&#39;MyghtyXmlLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;MyghtyCssLexer&#39;</span><span class="p">,</span> <span class="s">&#39;MyghtyJavascriptLexer&#39;</span><span class="p">,</span> <span class="s">&#39;MasonLexer&#39;</span><span class="p">,</span> <span class="s">&#39;MakoLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;MakoHtmlLexer&#39;</span><span class="p">,</span> <span class="s">&#39;MakoXmlLexer&#39;</span><span class="p">,</span> <span class="s">&#39;MakoJavascriptLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;MakoCssLexer&#39;</span><span class="p">,</span> <span class="s">&#39;JspLexer&#39;</span><span class="p">,</span> <span class="s">&#39;CheetahLexer&#39;</span><span class="p">,</span> <span class="s">&#39;CheetahHtmlLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;CheetahXmlLexer&#39;</span><span class="p">,</span> <span class="s">&#39;CheetahJavascriptLexer&#39;</span><span class="p">,</span> <span class="s">&#39;EvoqueLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;EvoqueHtmlLexer&#39;</span><span class="p">,</span> <span class="s">&#39;EvoqueXmlLexer&#39;</span><span class="p">,</span> <span class="s">&#39;ColdfusionLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;ColdfusionHtmlLexer&#39;</span><span class="p">,</span> <span class="s">&#39;VelocityLexer&#39;</span><span class="p">,</span> <span class="s">&#39;VelocityHtmlLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;VelocityXmlLexer&#39;</span><span class="p">,</span> <span class="s">&#39;SspLexer&#39;</span><span class="p">,</span> <span class="s">&#39;TeaTemplateLexer&#39;</span><span class="p">,</span> <span class="s">&#39;LassoHtmlLexer&#39;</span><span class="p">,</span>
           <span class="s">&#39;LassoXmlLexer&#39;</span><span class="p">,</span> <span class="s">&#39;LassoCssLexer&#39;</span><span class="p">,</span> <span class="s">&#39;LassoJavascriptLexer&#39;</span><span class="p">]</span>


<div class="viewcode-block" id="ErbLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.ErbLexer">[docs]</a><span class="k">class</span> <span class="nc">ErbLexer</span><span class="p">(</span><span class="n">Lexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generic `ERB &lt;http://ruby-doc.org/core/classes/ERB.html&gt;`_ (Ruby Templating)</span>
<span class="sd">    lexer.</span>

<span class="sd">    Just highlights ruby code between the preprocessor directives, other data</span>
<span class="sd">    is left untouched by the lexer.</span>

<span class="sd">    All options are also forwarded to the `RubyLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;ERB&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;erb&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-ruby-templating&#39;</span><span class="p">]</span>

    <span class="n">_block_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">r&#39;(&lt;</span><span class="si">%%</span><span class="s">|</span><span class="si">%%</span><span class="s">&gt;|&lt;%=|&lt;%#|&lt;%-|&lt;%|-%&gt;|%&gt;|^%[^%].*?$)&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">M</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">pygments.lexers.agile</span> <span class="kn">import</span> <span class="n">RubyLexer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ruby_lexer</span> <span class="o">=</span> <span class="n">RubyLexer</span><span class="p">(</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
        <span class="n">Lexer</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

<div class="viewcode-block" id="ErbLexer.get_tokens_unprocessed"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.ErbLexer.get_tokens_unprocessed">[docs]</a>    <span class="k">def</span> <span class="nf">get_tokens_unprocessed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Since ERB doesn&#39;t allow &quot;&lt;%&quot; and other tags inside of ruby</span>
<span class="sd">        blocks we have to use a split approach here that fails for</span>
<span class="sd">        that too.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tokens</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_block_re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="n">tokens</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="n">state</span> <span class="o">=</span> <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
                <span class="c"># text</span>
                <span class="k">if</span> <span class="n">state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">val</span> <span class="o">=</span> <span class="n">tokens</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                    <span class="k">yield</span> <span class="n">idx</span><span class="p">,</span> <span class="n">Other</span><span class="p">,</span> <span class="n">val</span>
                    <span class="n">idx</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
                    <span class="n">state</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="c"># block starts</span>
                <span class="k">elif</span> <span class="n">state</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">tag</span> <span class="o">=</span> <span class="n">tokens</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                    <span class="c"># literals</span>
                    <span class="k">if</span> <span class="n">tag</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;&lt;</span><span class="si">%%</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%%</span><span class="s">&gt;&#39;</span><span class="p">):</span>
                        <span class="k">yield</span> <span class="n">idx</span><span class="p">,</span> <span class="n">Other</span><span class="p">,</span> <span class="n">tag</span>
                        <span class="n">idx</span> <span class="o">+=</span> <span class="mi">3</span>
                        <span class="n">state</span> <span class="o">=</span> <span class="mi">0</span>
                    <span class="c"># comment</span>
                    <span class="k">elif</span> <span class="n">tag</span> <span class="o">==</span> <span class="s">&#39;&lt;%#&#39;</span><span class="p">:</span>
                        <span class="k">yield</span> <span class="n">idx</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">tag</span>
                        <span class="n">val</span> <span class="o">=</span> <span class="n">tokens</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                        <span class="k">yield</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">3</span><span class="p">,</span> <span class="n">Comment</span><span class="p">,</span> <span class="n">val</span>
                        <span class="n">idx</span> <span class="o">+=</span> <span class="mi">3</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
                        <span class="n">state</span> <span class="o">=</span> <span class="mi">2</span>
                    <span class="c"># blocks or output</span>
                    <span class="k">elif</span> <span class="n">tag</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;&lt;%&#39;</span><span class="p">,</span> <span class="s">&#39;&lt;%=&#39;</span><span class="p">,</span> <span class="s">&#39;&lt;%-&#39;</span><span class="p">):</span>
                        <span class="k">yield</span> <span class="n">idx</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">tag</span>
                        <span class="n">idx</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
                        <span class="n">data</span> <span class="o">=</span> <span class="n">tokens</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                        <span class="n">r_idx</span> <span class="o">=</span> <span class="mi">0</span>
                        <span class="k">for</span> <span class="n">r_idx</span><span class="p">,</span> <span class="n">r_token</span><span class="p">,</span> <span class="n">r_value</span> <span class="ow">in</span> \
                            <span class="bp">self</span><span class="o">.</span><span class="n">ruby_lexer</span><span class="o">.</span><span class="n">get_tokens_unprocessed</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
                            <span class="k">yield</span> <span class="n">r_idx</span> <span class="o">+</span> <span class="n">idx</span><span class="p">,</span> <span class="n">r_token</span><span class="p">,</span> <span class="n">r_value</span>
                        <span class="n">idx</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                        <span class="n">state</span> <span class="o">=</span> <span class="mi">2</span>
                    <span class="k">elif</span> <span class="n">tag</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;%&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;-%&gt;&#39;</span><span class="p">):</span>
                        <span class="k">yield</span> <span class="n">idx</span><span class="p">,</span> <span class="n">Error</span><span class="p">,</span> <span class="n">tag</span>
                        <span class="n">idx</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
                        <span class="n">state</span> <span class="o">=</span> <span class="mi">0</span>
                    <span class="c"># % raw ruby statements</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">yield</span> <span class="n">idx</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">tag</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                        <span class="n">r_idx</span> <span class="o">=</span> <span class="mi">0</span>
                        <span class="k">for</span> <span class="n">r_idx</span><span class="p">,</span> <span class="n">r_token</span><span class="p">,</span> <span class="n">r_value</span> <span class="ow">in</span> \
                            <span class="bp">self</span><span class="o">.</span><span class="n">ruby_lexer</span><span class="o">.</span><span class="n">get_tokens_unprocessed</span><span class="p">(</span><span class="n">tag</span><span class="p">[</span><span class="mi">1</span><span class="p">:]):</span>
                            <span class="k">yield</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">r_idx</span><span class="p">,</span> <span class="n">r_token</span><span class="p">,</span> <span class="n">r_value</span>
                        <span class="n">idx</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
                        <span class="n">state</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="c"># block ends</span>
                <span class="k">elif</span> <span class="n">state</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">tag</span> <span class="o">=</span> <span class="n">tokens</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">tag</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;%&gt;&#39;</span><span class="p">,</span> <span class="s">&#39;-%&gt;&#39;</span><span class="p">):</span>
                        <span class="k">yield</span> <span class="n">idx</span><span class="p">,</span> <span class="n">Other</span><span class="p">,</span> <span class="n">tag</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">yield</span> <span class="n">idx</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">tag</span>
                    <span class="n">idx</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
                    <span class="n">state</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">return</span>
</div>
    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">if</span> <span class="s">&#39;&lt;%&#39;</span> <span class="ow">in</span> <span class="n">text</span> <span class="ow">and</span> <span class="s">&#39;%&gt;&#39;</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
            <span class="k">return</span> <span class="mf">0.4</span>

</div>
<div class="viewcode-block" id="SmartyLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.SmartyLexer">[docs]</a><span class="k">class</span> <span class="nc">SmartyLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generic `Smarty &lt;http://smarty.php.net/&gt;`_ template lexer.</span>

<span class="sd">    Just highlights smarty code between the preprocessor directives, other</span>
<span class="sd">    data is left untouched by the lexer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Smarty&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;smarty&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.tpl&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-smarty&#39;</span><span class="p">]</span>

    <span class="n">flags</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;[^{]+&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(\{)(\*.*?\*)(\})&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Comment</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(\{php\})(.*?)(\{/php\})&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PhpLexer</span><span class="p">,</span> <span class="n">startinline</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
                      <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(\{)(/?[a-zA-Z_][a-zA-Z0-9_]*)(\s*)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span> <span class="s">&#39;smarty&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\{&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="s">&#39;smarty&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;smarty&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\}&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;#[a-zA-Z_][a-zA-Z0-9_]*#&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\$[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z0-9_]+)*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[~!%^&amp;*()+=|\[\]:;,.&lt;&gt;/?{}@-]&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(true|false|null)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="o">.</span><span class="n">Constant</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;[0-9](\.[0-9]*)?(eE[+-][0-9])?[flFLdD]?|&quot;</span>
             <span class="s">r&quot;0[xX][0-9a-fA-F]+[Ll]?&quot;</span><span class="p">,</span> <span class="n">Number</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&quot;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&quot;|[^&quot;])*&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;&#39;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&#39;|[^&#39;])*&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Single</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z_][a-zA-Z0-9_]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Attribute</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;\{if\s+.*?\}.*?\{/if\}&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.15</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;\{include\s+file=.*?\}&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.15</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;\{foreach\s+.*?\}.*?\{/foreach\}&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.15</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;\{\$.*?\}&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.01</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="VelocityLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.VelocityLexer">[docs]</a><span class="k">class</span> <span class="nc">VelocityLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generic `Velocity &lt;http://velocity.apache.org/&gt;`_ template lexer.</span>

<span class="sd">    Just highlights velocity directives and variable references, other</span>
<span class="sd">    data is left untouched by the lexer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Velocity&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;velocity&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.vm&#39;</span><span class="p">,</span><span class="s">&#39;*.fhtml&#39;</span><span class="p">]</span>

    <span class="n">flags</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span>

    <span class="n">identifier</span> <span class="o">=</span> <span class="s">r&#39;[a-zA-Z_][a-zA-Z0-9_]*&#39;</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;[^{#$]+&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(#)(\*.*?\*)(#)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Comment</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(##)(.*?$)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Comment</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(#\{?)(&#39;</span> <span class="o">+</span> <span class="n">identifier</span> <span class="o">+</span> <span class="s">r&#39;)(\}?)(\s?\()&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">),</span>
             <span class="s">&#39;directiveparams&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(#\{?)(&#39;</span> <span class="o">+</span> <span class="n">identifier</span> <span class="o">+</span> <span class="s">r&#39;)(\}|\b)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;\$\{?&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="s">&#39;variable&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;variable&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="n">identifier</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\(&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="s">&#39;funcparams&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(\.)(&#39;</span> <span class="o">+</span> <span class="n">identifier</span> <span class="o">+</span> <span class="s">r&#39;)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Punctuation</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">),</span> <span class="s">&#39;#push&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\}&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;directiveparams&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;(&amp;&amp;|\|\||==?|!=?|[-&lt;&gt;+*%&amp;\|\^/])|\b(eq|ne|gt|lt|ge|le|not|in)\b&#39;</span><span class="p">,</span>
             <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\[&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">,</span> <span class="s">&#39;rangeoperator&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\b&#39;</span> <span class="o">+</span> <span class="n">identifier</span> <span class="o">+</span> <span class="s">r&#39;\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;funcparams&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;rangeoperator&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\.\.&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;funcparams&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\]&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;funcparams&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\$\{?&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="s">&#39;variable&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;,&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&quot;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&quot;|[^&quot;])*&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;&#39;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&#39;|[^&#39;])*&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Single</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;0[xX][0-9a-fA-F]+[Ll]?&quot;</span><span class="p">,</span> <span class="n">Number</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;\b[0-9]+\b&quot;</span><span class="p">,</span> <span class="n">Number</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(true|false|null)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="o">.</span><span class="n">Constant</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\(&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="s">&#39;#push&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\)&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;#\{?macro\}?\(.*?\).*?#\{?end\}?&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.25</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;#\{?if\}?\(.+?\).*?#\{?end\}?&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.15</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;#\{?foreach\}?\(.+?\).*?#\{?end\}?&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.15</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;\$\{?[a-zA-Z_][a-zA-Z0-9_]*(\([^)]*\))?&#39;</span>
                     <span class="s">r&#39;(\.[a-zA-Z0-9_]+(\([^)]*\))?)*\}?&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.01</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="VelocityHtmlLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.VelocityHtmlLexer">[docs]</a><span class="k">class</span> <span class="nc">VelocityHtmlLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `VelocityLexer` that highlights unlexer data</span>
<span class="sd">    with the `HtmlLexer`.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;HTML+Velocity&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;html+velocity&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.html&#39;</span><span class="p">,</span><span class="s">&#39;*.fhtml&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/html+velocity&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">VelocityHtmlLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">HtmlLexer</span><span class="p">,</span> <span class="n">VelocityLexer</span><span class="p">,</span>
                                              <span class="o">**</span><span class="n">options</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="VelocityXmlLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.VelocityXmlLexer">[docs]</a><span class="k">class</span> <span class="nc">VelocityXmlLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `VelocityLexer` that highlights unlexer data</span>
<span class="sd">    with the `XmlLexer`.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;XML+Velocity&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;xml+velocity&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.xml&#39;</span><span class="p">,</span><span class="s">&#39;*.vm&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/xml+velocity&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">VelocityXmlLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">XmlLexer</span><span class="p">,</span> <span class="n">VelocityLexer</span><span class="p">,</span>
                                               <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">VelocityLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span>
        <span class="k">if</span> <span class="n">looks_like_xml</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.5</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="DjangoLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.DjangoLexer">[docs]</a><span class="k">class</span> <span class="nc">DjangoLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generic `django &lt;http://www.djangoproject.com/documentation/templates/&gt;`_</span>
<span class="sd">    and `jinja &lt;http://wsgiarea.pocoo.org/jinja/&gt;`_ template lexer.</span>

<span class="sd">    It just highlights django/jinja code between the preprocessor directives,</span>
<span class="sd">    other data is left untouched by the lexer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Django/Jinja&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;django&#39;</span><span class="p">,</span> <span class="s">&#39;jinja&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-django-templating&#39;</span><span class="p">,</span> <span class="s">&#39;application/x-jinja&#39;</span><span class="p">]</span>

    <span class="n">flags</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">M</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">S</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;[^{]+&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\{\{&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="s">&#39;var&#39;</span><span class="p">),</span>
            <span class="c"># jinja/django comments</span>
            <span class="p">(</span><span class="s">r&#39;\{[*#].*?[*#]\}&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="p">),</span>
            <span class="c"># django comments</span>
            <span class="p">(</span><span class="s">r&#39;(\{%)(-?\s*)(comment)(\s*-?)(%\})(.*?)&#39;</span>
             <span class="s">r&#39;(\{%)(-?\s*)(endcomment)(\s*-?)(%\})&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span>
                      <span class="n">Comment</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span>
                      <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">)),</span>
            <span class="c"># raw jinja blocks</span>
            <span class="p">(</span><span class="s">r&#39;(\{%)(-?\s*)(raw)(\s*-?)(%\})(.*?)&#39;</span>
             <span class="s">r&#39;(\{%)(-?\s*)(endraw)(\s*-?)(%\})&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span>
                      <span class="n">Text</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span>
                      <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">)),</span>
            <span class="c"># filter blocks</span>
            <span class="p">(</span><span class="s">r&#39;(\{%)(-?\s*)(filter)(\s+)([a-zA-Z_][a-zA-Z0-9_]*)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">),</span>
             <span class="s">&#39;block&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(\{%)(-?\s*)([a-zA-Z_][a-zA-Z0-9_]*)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span> <span class="s">&#39;block&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\{&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;varnames&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;(\|)(\s*)([a-zA-Z_][a-zA-Z0-9_]*)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Operator</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(is)(\s+)(not)?(\s+)?([a-zA-Z_][a-zA-Z0-9_]*)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(_|true|false|none|True|False|None)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="o">.</span><span class="n">Pseudo</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(in|as|reversed|recursive|not|and|or|is|if|else|import|&#39;</span>
             <span class="s">r&#39;with(?:(?:out)?\s*context)?|scoped|ignore\s+missing)\b&#39;</span><span class="p">,</span>
             <span class="n">Keyword</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(loop|block|super|forloop)\b&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z][a-zA-Z0-9_-]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\.[a-zA-Z0-9_]+&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;:?&quot;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&quot;|[^&quot;])*&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;:?&#39;(</span><span class="se">\\\\</span><span class="s">|</span><span class="se">\\</span><span class="s">&#39;|[^&#39;])*&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Single</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;([{}()\[\]+\-*/,:~]|[&gt;&lt;=]=?)&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&quot;[0-9](\.[0-9]*)?(eE[+-][0-9])?[flFLdD]?|&quot;</span>
             <span class="s">r&quot;0[xX][0-9a-fA-F]+[Ll]?&quot;</span><span class="p">,</span> <span class="n">Number</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;var&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(-?)(\}\})&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">),</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;varnames&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;block&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(-?)(%\})&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">),</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;varnames&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;.&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;\{%\s*(block|extends)&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.4</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;\{%\s*if\s*.*?%\}&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.1</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;\{\{.*?\}\}&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.1</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="MyghtyLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.MyghtyLexer">[docs]</a><span class="k">class</span> <span class="nc">MyghtyLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generic `myghty templates`_ lexer. Code that isn&#39;t Myghty</span>
<span class="sd">    markup is yielded as `Token.Other`.</span>

<span class="sd">    *New in Pygments 0.6.*</span>

<span class="sd">    .. _myghty templates: http://www.myghty.org/</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Myghty&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;myghty&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.myt&#39;</span><span class="p">,</span> <span class="s">&#39;autodelegate&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-myghty&#39;</span><span class="p">]</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;%(?:def|method))(\s*)(.*?)(&gt;)(.*?)(&lt;/%\2\s*&gt;)(?s)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span>
                      <span class="n">using</span><span class="p">(</span><span class="n">this</span><span class="p">),</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;%\w+)(.*?)(&gt;)(.*?)(&lt;/%\2\s*&gt;)(?s)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span>
                      <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;&amp;[^|])(.*?)(,.*?)?(&amp;&gt;)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;&amp;\|)(.*?)(,.*?)?(&amp;&gt;)(?s)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;/&amp;&gt;&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;%!?)(.*?)(%&gt;)(?s)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;=^)#[^\n]*(\n|\Z)&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;=^)(%)([^\n]*)(\n|\Z)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">Other</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&quot;&quot;&quot;(?sx)</span>
<span class="s">                 (.+?)               # anything, followed by:</span>
<span class="s">                 (?:</span>
<span class="s">                  (?&lt;=\n)(?=[%#]) |  # an eval or comment line</span>
<span class="s">                  (?=&lt;/?[%&amp;]) |      # a substitution or block or</span>
<span class="s">                                     # call start or end</span>
<span class="s">                                     # - don&#39;t consume</span>
<span class="s">                  (\\\n) |           # an escaped newline</span>
<span class="s">                  \Z                 # end of string</span>
<span class="s">                 )&quot;&quot;&quot;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Other</span><span class="p">,</span> <span class="n">Operator</span><span class="p">)),</span>
        <span class="p">]</span>
    <span class="p">}</span>

</div>
<div class="viewcode-block" id="MyghtyHtmlLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.MyghtyHtmlLexer">[docs]</a><span class="k">class</span> <span class="nc">MyghtyHtmlLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `MyghtyLexer` that highlights unlexer data</span>
<span class="sd">    with the `HtmlLexer`.</span>

<span class="sd">    *New in Pygments 0.6.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;HTML+Myghty&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;html+myghty&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/html+myghty&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MyghtyHtmlLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">HtmlLexer</span><span class="p">,</span> <span class="n">MyghtyLexer</span><span class="p">,</span>
                                              <span class="o">**</span><span class="n">options</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="MyghtyXmlLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.MyghtyXmlLexer">[docs]</a><span class="k">class</span> <span class="nc">MyghtyXmlLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `MyghtyLexer` that highlights unlexer data</span>
<span class="sd">    with the `XmlLexer`.</span>

<span class="sd">    *New in Pygments 0.6.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;XML+Myghty&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;xml+myghty&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/xml+myghty&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MyghtyXmlLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">XmlLexer</span><span class="p">,</span> <span class="n">MyghtyLexer</span><span class="p">,</span>
                                             <span class="o">**</span><span class="n">options</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="MyghtyJavascriptLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.MyghtyJavascriptLexer">[docs]</a><span class="k">class</span> <span class="nc">MyghtyJavascriptLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `MyghtyLexer` that highlights unlexer data</span>
<span class="sd">    with the `JavascriptLexer`.</span>

<span class="sd">    *New in Pygments 0.6.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;JavaScript+Myghty&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;js+myghty&#39;</span><span class="p">,</span> <span class="s">&#39;javascript+myghty&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-javascript+myghty&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/x-javascript+myghty&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/javascript+mygthy&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MyghtyJavascriptLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">JavascriptLexer</span><span class="p">,</span>
                                                    <span class="n">MyghtyLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="MyghtyCssLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.MyghtyCssLexer">[docs]</a><span class="k">class</span> <span class="nc">MyghtyCssLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `MyghtyLexer` that highlights unlexer data</span>
<span class="sd">    with the `CssLexer`.</span>

<span class="sd">    *New in Pygments 0.6.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;CSS+Myghty&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;css+myghty&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/css+myghty&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MyghtyCssLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">CssLexer</span><span class="p">,</span> <span class="n">MyghtyLexer</span><span class="p">,</span>
                                             <span class="o">**</span><span class="n">options</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="MasonLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.MasonLexer">[docs]</a><span class="k">class</span> <span class="nc">MasonLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generic `mason templates`_ lexer. Stolen from Myghty lexer. Code that isn&#39;t</span>
<span class="sd">    Mason markup is HTML.</span>

<span class="sd">    .. _mason templates: http://www.masonhq.com/</span>

<span class="sd">    *New in Pygments 1.4.*</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Mason&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;mason&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.m&#39;</span><span class="p">,</span> <span class="s">&#39;*.mhtml&#39;</span><span class="p">,</span> <span class="s">&#39;*.mc&#39;</span><span class="p">,</span> <span class="s">&#39;*.mi&#39;</span><span class="p">,</span> <span class="s">&#39;autohandler&#39;</span><span class="p">,</span> <span class="s">&#39;dhandler&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-mason&#39;</span><span class="p">]</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;</span><span class="si">%d</span><span class="s">oc&gt;)(.*?)(&lt;/</span><span class="si">%d</span><span class="s">oc&gt;)(?s)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;%(?:def|method))(\s*)(.*?)(&gt;)(.*?)(&lt;/%\2\s*&gt;)(?s)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span>
                      <span class="n">using</span><span class="p">(</span><span class="n">this</span><span class="p">),</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;%\w+)(.*?)(&gt;)(.*?)(&lt;/%\2\s*&gt;)(?s)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span>
                      <span class="n">using</span><span class="p">(</span><span class="n">PerlLexer</span><span class="p">),</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;&amp;[^|])(.*?)(,.*?)?(&amp;&gt;)(?s)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PerlLexer</span><span class="p">),</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;&amp;\|)(.*?)(,.*?)?(&amp;&gt;)(?s)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PerlLexer</span><span class="p">),</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;/&amp;&gt;&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;%!?)(.*?)(%&gt;)(?s)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PerlLexer</span><span class="p">),</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;=^)#[^\n]*(\n|\Z)&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;=^)(%)([^\n]*)(\n|\Z)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PerlLexer</span><span class="p">),</span> <span class="n">Other</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&quot;&quot;&quot;(?sx)</span>
<span class="s">                 (.+?)               # anything, followed by:</span>
<span class="s">                 (?:</span>
<span class="s">                  (?&lt;=\n)(?=[%#]) |  # an eval or comment line</span>
<span class="s">                  (?=&lt;/?[%&amp;]) |      # a substitution or block or</span>
<span class="s">                                     # call start or end</span>
<span class="s">                                     # - don&#39;t consume</span>
<span class="s">                  (\\\n) |           # an escaped newline</span>
<span class="s">                  \Z                 # end of string</span>
<span class="s">                 )&quot;&quot;&quot;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">using</span><span class="p">(</span><span class="n">HtmlLexer</span><span class="p">),</span> <span class="n">Operator</span><span class="p">)),</span>
        <span class="p">]</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;&lt;&amp;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rv</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="MakoLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.MakoLexer">[docs]</a><span class="k">class</span> <span class="nc">MakoLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generic `mako templates`_ lexer. Code that isn&#39;t Mako</span>
<span class="sd">    markup is yielded as `Token.Other`.</span>

<span class="sd">    *New in Pygments 0.7.*</span>

<span class="sd">    .. _mako templates: http://www.makotemplates.org/</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Mako&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;mako&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.mao&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-mako&#39;</span><span class="p">]</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;(\s*)(%)(\s*end(?:\w+))(\n|\Z)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="n">Other</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(\s*)(%)([^\n]*)(\n|\Z)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">Other</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(\s*)(##[^\n]*)(\n|\Z)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Other</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(?s)&lt;</span><span class="si">%d</span><span class="s">oc&gt;.*?&lt;/</span><span class="si">%d</span><span class="s">oc&gt;&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;%)([\w\.\:]+)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span> <span class="s">&#39;tag&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;/%)([\w\.\:]+)(&gt;)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;%(?=([\w\.\:]+))&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="s">&#39;ondeftags&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;%(?:!?))(.*?)(%&gt;)(?s)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(\$\{)(.*?)(\})&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;&#39;&#39;(?sx)</span>
<span class="s">                (.+?)                # anything, followed by:</span>
<span class="s">                (?:</span>
<span class="s">                 (?&lt;=\n)(?=%|\#\#) | # an eval or comment line</span>
<span class="s">                 (?=\#\*) |          # multiline comment</span>
<span class="s">                 (?=&lt;/?%) |          # a python block</span>
<span class="s">                                     # call start or end</span>
<span class="s">                 (?=\$\{) |          # a substitution</span>
<span class="s">                 (?&lt;=\n)(?=\s*%) |</span>
<span class="s">                                     # - don&#39;t consume</span>
<span class="s">                 (\\\n) |            # an escaped newline</span>
<span class="s">                 \Z                  # end of string</span>
<span class="s">                )</span>
<span class="s">            &#39;&#39;&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Other</span><span class="p">,</span> <span class="n">Operator</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;ondeftags&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;&lt;%&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;=&lt;%)(include|inherit|namespace|page)&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;tag&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;tag&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;((?:\w+)\s*=)(\s*)(&quot;.*?&quot;)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Attribute</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">String</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;/?\s*&gt;&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;attr&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;&quot;.*?&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&quot;&#39;.*?&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^\s&gt;]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
        <span class="p">],</span>
    <span class="p">}</span>

</div>
<div class="viewcode-block" id="MakoHtmlLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.MakoHtmlLexer">[docs]</a><span class="k">class</span> <span class="nc">MakoHtmlLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `MakoLexer` that highlights unlexed data</span>
<span class="sd">    with the `HtmlLexer`.</span>

<span class="sd">    *New in Pygments 0.7.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;HTML+Mako&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;html+mako&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/html+mako&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MakoHtmlLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">HtmlLexer</span><span class="p">,</span> <span class="n">MakoLexer</span><span class="p">,</span>
                                              <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MakoXmlLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.MakoXmlLexer">[docs]</a><span class="k">class</span> <span class="nc">MakoXmlLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `MakoLexer` that highlights unlexer data</span>
<span class="sd">    with the `XmlLexer`.</span>

<span class="sd">    *New in Pygments 0.7.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;XML+Mako&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;xml+mako&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/xml+mako&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MakoXmlLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">XmlLexer</span><span class="p">,</span> <span class="n">MakoLexer</span><span class="p">,</span>
                                             <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MakoJavascriptLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.MakoJavascriptLexer">[docs]</a><span class="k">class</span> <span class="nc">MakoJavascriptLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `MakoLexer` that highlights unlexer data</span>
<span class="sd">    with the `JavascriptLexer`.</span>

<span class="sd">    *New in Pygments 0.7.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;JavaScript+Mako&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;js+mako&#39;</span><span class="p">,</span> <span class="s">&#39;javascript+mako&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-javascript+mako&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/x-javascript+mako&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/javascript+mako&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MakoJavascriptLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">JavascriptLexer</span><span class="p">,</span>
                                                    <span class="n">MakoLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="MakoCssLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.MakoCssLexer">[docs]</a><span class="k">class</span> <span class="nc">MakoCssLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `MakoLexer` that highlights unlexer data</span>
<span class="sd">    with the `CssLexer`.</span>

<span class="sd">    *New in Pygments 0.7.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;CSS+Mako&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;css+mako&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/css+mako&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">MakoCssLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">CssLexer</span><span class="p">,</span> <span class="n">MakoLexer</span><span class="p">,</span>
                                             <span class="o">**</span><span class="n">options</span><span class="p">)</span>


<span class="c"># Genshi and Cheetah lexers courtesy of Matt Good.</span>
</div>
<span class="k">class</span> <span class="nc">CheetahPythonLexer</span><span class="p">(</span><span class="n">Lexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Lexer for handling Cheetah&#39;s special $ tokens in Python syntax.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">get_tokens_unprocessed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="n">pylexer</span> <span class="o">=</span> <span class="n">PythonLexer</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">pos</span><span class="p">,</span> <span class="n">type_</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">pylexer</span><span class="o">.</span><span class="n">get_tokens_unprocessed</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">type_</span> <span class="o">==</span> <span class="n">Token</span><span class="o">.</span><span class="n">Error</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">==</span> <span class="s">&#39;$&#39;</span><span class="p">:</span>
                <span class="n">type_</span> <span class="o">=</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span>
            <span class="k">yield</span> <span class="n">pos</span><span class="p">,</span> <span class="n">type_</span><span class="p">,</span> <span class="n">value</span>


<div class="viewcode-block" id="CheetahLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.CheetahLexer">[docs]</a><span class="k">class</span> <span class="nc">CheetahLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generic `cheetah templates`_ lexer. Code that isn&#39;t Cheetah</span>
<span class="sd">    markup is yielded as `Token.Other`.  This also works for</span>
<span class="sd">    `spitfire templates`_ which use the same syntax.</span>

<span class="sd">    .. _cheetah templates: http://www.cheetahtemplate.org/</span>
<span class="sd">    .. _spitfire templates: http://code.google.com/p/spitfire/</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Cheetah&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;cheetah&#39;</span><span class="p">,</span> <span class="s">&#39;spitfire&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.tmpl&#39;</span><span class="p">,</span> <span class="s">&#39;*.spt&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-cheetah&#39;</span><span class="p">,</span> <span class="s">&#39;application/x-spitfire&#39;</span><span class="p">]</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;(##[^\n]*)$&#39;</span><span class="p">,</span>
             <span class="p">(</span><span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="p">))),</span>
            <span class="p">(</span><span class="s">r&#39;#[*](.|\n)*?[*]#&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;#end[^#\n]*(?:#|$)&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;#slurp$&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(#[a-zA-Z]+)([^#\n]*)(#|$)&#39;</span><span class="p">,</span>
             <span class="p">(</span><span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">CheetahPythonLexer</span><span class="p">),</span>
                       <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">))),</span>
            <span class="c"># TODO support other Python syntax like $foo[&#39;bar&#39;]</span>
            <span class="p">(</span><span class="s">r&#39;(\$)([a-zA-Z_][a-zA-Z0-9_\.]*[a-zA-Z0-9_])&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">CheetahPythonLexer</span><span class="p">))),</span>
            <span class="p">(</span><span class="s">r&#39;(\$\{!?)(.*?)(\})(?s)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">CheetahPythonLexer</span><span class="p">),</span>
                      <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;&#39;&#39;(?sx)</span>
<span class="s">                (.+?)               # anything, followed by:</span>
<span class="s">                (?:</span>
<span class="s">                 (?=[#][#a-zA-Z]*) |   # an eval comment</span>
<span class="s">                 (?=\$[a-zA-Z_{]) | # a substitution</span>
<span class="s">                 \Z                 # end of string</span>
<span class="s">                )</span>
<span class="s">            &#39;&#39;&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
        <span class="p">],</span>
    <span class="p">}</span>

</div>
<div class="viewcode-block" id="CheetahHtmlLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.CheetahHtmlLexer">[docs]</a><span class="k">class</span> <span class="nc">CheetahHtmlLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `CheetahLexer` that highlights unlexer data</span>
<span class="sd">    with the `HtmlLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;HTML+Cheetah&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;html+cheetah&#39;</span><span class="p">,</span> <span class="s">&#39;html+spitfire&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/html+cheetah&#39;</span><span class="p">,</span> <span class="s">&#39;text/html+spitfire&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CheetahHtmlLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">HtmlLexer</span><span class="p">,</span> <span class="n">CheetahLexer</span><span class="p">,</span>
                                               <span class="o">**</span><span class="n">options</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="CheetahXmlLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.CheetahXmlLexer">[docs]</a><span class="k">class</span> <span class="nc">CheetahXmlLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `CheetahLexer` that highlights unlexer data</span>
<span class="sd">    with the `XmlLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;XML+Cheetah&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;xml+cheetah&#39;</span><span class="p">,</span> <span class="s">&#39;xml+spitfire&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/xml+cheetah&#39;</span><span class="p">,</span> <span class="s">&#39;application/xml+spitfire&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CheetahXmlLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">XmlLexer</span><span class="p">,</span> <span class="n">CheetahLexer</span><span class="p">,</span>
                                              <span class="o">**</span><span class="n">options</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="CheetahJavascriptLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.CheetahJavascriptLexer">[docs]</a><span class="k">class</span> <span class="nc">CheetahJavascriptLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `CheetahLexer` that highlights unlexer data</span>
<span class="sd">    with the `JavascriptLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;JavaScript+Cheetah&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;js+cheetah&#39;</span><span class="p">,</span> <span class="s">&#39;javascript+cheetah&#39;</span><span class="p">,</span>
               <span class="s">&#39;js+spitfire&#39;</span><span class="p">,</span> <span class="s">&#39;javascript+spitfire&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-javascript+cheetah&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/x-javascript+cheetah&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/javascript+cheetah&#39;</span><span class="p">,</span>
                 <span class="s">&#39;application/x-javascript+spitfire&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/x-javascript+spitfire&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/javascript+spitfire&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CheetahJavascriptLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">JavascriptLexer</span><span class="p">,</span>
                                                     <span class="n">CheetahLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="GenshiTextLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.GenshiTextLexer">[docs]</a><span class="k">class</span> <span class="nc">GenshiTextLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A lexer that highlights `genshi &lt;http://genshi.edgewall.org/&gt;`_ text</span>
<span class="sd">    templates.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Genshi Text&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;genshitext&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-genshi-text&#39;</span><span class="p">,</span> <span class="s">&#39;text/x-genshi&#39;</span><span class="p">]</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;[^#\$\s]+&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;^(\s*)(##.*)$&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Comment</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;^(\s*)(#)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">),</span> <span class="s">&#39;directive&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;variable&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[#\$\s]&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;directive&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\n&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?:def|for|if)\s+.*&#39;</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(choose|when|with)([^\S\n]+)(.*)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">)),</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(choose|otherwise)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(end\w*)([^\S\n]*)(.*)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Keyword</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Comment</span><span class="p">),</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;variable&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;!\$)(\$\{)(.+?)(\})&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;!\$)(\$)([a-zA-Z_][a-zA-Z0-9_\.]*)&#39;</span><span class="p">,</span>
             <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">),</span>
        <span class="p">]</span>
    <span class="p">}</span>

</div>
<span class="k">class</span> <span class="nc">GenshiMarkupLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base lexer for Genshi markup, used by `HtmlGenshiLexer` and</span>
<span class="sd">    `GenshiLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">flags</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;[^&lt;\$]+&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(&lt;\?python)(.*?)(\?&gt;)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">)),</span>
            <span class="c"># yield style and script blocks as Other</span>
            <span class="p">(</span><span class="s">r&#39;&lt;\s*(script|style)\s*.*?&gt;.*?&lt;\s*/\1\s*&gt;&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;\s*py:[a-zA-Z0-9]+&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="s">&#39;pytag&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;\s*[a-zA-Z0-9:]+&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="s">&#39;tag&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;variable&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[&lt;\$]&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;pytag&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z0-9_:-]+\s*=&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Attribute</span><span class="p">,</span> <span class="s">&#39;pyattr&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;/?\s*&gt;&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;pyattr&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;(&quot;)(.*?)(&quot;)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">String</span><span class="p">),</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&quot;(&#39;)(.*?)(&#39;)&quot;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">String</span><span class="p">),</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^\s&gt;]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;tag&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;py:[a-zA-Z0-9_-]+\s*=&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Attribute</span><span class="p">,</span> <span class="s">&#39;pyattr&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[a-zA-Z0-9_:-]+\s*=&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Attribute</span><span class="p">,</span> <span class="s">&#39;attr&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;/?\s*&gt;&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Tag</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;attr&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;attr-dstring&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&quot;&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;attr-sstring&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^\s&gt;]*&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;attr-dstring&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;strings&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&quot;&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;attr-sstring&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&quot;&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;strings&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">&quot;&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;strings&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">&#39;[^&quot;</span><span class="se">\&#39;</span><span class="s">$]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;variable&#39;</span><span class="p">)</span>
        <span class="p">],</span>
        <span class="s">&#39;variable&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;!\$)(\$\{)(.+?)(\})&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Preproc</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;(?&lt;!\$)(\$)([a-zA-Z_][a-zA-Z0-9_\.]*)&#39;</span><span class="p">,</span>
             <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">),</span>
        <span class="p">]</span>
    <span class="p">}</span>


<div class="viewcode-block" id="HtmlGenshiLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.HtmlGenshiLexer">[docs]</a><span class="k">class</span> <span class="nc">HtmlGenshiLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A lexer that highlights `genshi &lt;http://genshi.edgewall.org/&gt;`_ and</span>
<span class="sd">    `kid &lt;http://kid-templating.org/&gt;`_ kid HTML templates.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;HTML+Genshi&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;html+genshi&#39;</span><span class="p">,</span> <span class="s">&#39;html+kid&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.html&#39;</span><span class="p">,</span> <span class="s">&#39;*.htm&#39;</span><span class="p">,</span> <span class="s">&#39;*.xhtml&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/html+genshi&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">HtmlGenshiLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">HtmlLexer</span><span class="p">,</span> <span class="n">GenshiMarkupLexer</span><span class="p">,</span>
                                              <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;\$\{.*?\}&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.2</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;py:(.*?)=[&quot;</span><span class="se">\&#39;</span><span class="s">]&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.2</span>
        <span class="k">return</span> <span class="n">rv</span> <span class="o">+</span> <span class="n">HtmlLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span>

</div>
<div class="viewcode-block" id="GenshiLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.GenshiLexer">[docs]</a><span class="k">class</span> <span class="nc">GenshiLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A lexer that highlights `genshi &lt;http://genshi.edgewall.org/&gt;`_ and</span>
<span class="sd">    `kid &lt;http://kid-templating.org/&gt;`_ kid XML templates.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Genshi&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;genshi&#39;</span><span class="p">,</span> <span class="s">&#39;kid&#39;</span><span class="p">,</span> <span class="s">&#39;xml+genshi&#39;</span><span class="p">,</span> <span class="s">&#39;xml+kid&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.kid&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.xml&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-genshi&#39;</span><span class="p">,</span> <span class="s">&#39;application/x-kid&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">GenshiLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">XmlLexer</span><span class="p">,</span> <span class="n">GenshiMarkupLexer</span><span class="p">,</span>
                                          <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;\$\{.*?\}&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.2</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;py:(.*?)=[&quot;</span><span class="se">\&#39;</span><span class="s">]&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.2</span>
        <span class="k">return</span> <span class="n">rv</span> <span class="o">+</span> <span class="n">XmlLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span>

</div>
<div class="viewcode-block" id="JavascriptGenshiLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.JavascriptGenshiLexer">[docs]</a><span class="k">class</span> <span class="nc">JavascriptGenshiLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A lexer that highlights javascript code in genshi text templates.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;JavaScript+Genshi Text&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;js+genshitext&#39;</span><span class="p">,</span> <span class="s">&#39;js+genshi&#39;</span><span class="p">,</span> <span class="s">&#39;javascript+genshitext&#39;</span><span class="p">,</span>
               <span class="s">&#39;javascript+genshi&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.js&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-javascript+genshi&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/x-javascript+genshi&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/javascript+genshi&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">JavascriptGenshiLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">JavascriptLexer</span><span class="p">,</span>
                                                    <span class="n">GenshiTextLexer</span><span class="p">,</span>
                                                    <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">GenshiLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.05</span>

</div>
<div class="viewcode-block" id="CssGenshiLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.CssGenshiLexer">[docs]</a><span class="k">class</span> <span class="nc">CssGenshiLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A lexer that highlights CSS definitions in genshi text templates.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;CSS+Genshi Text&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;css+genshitext&#39;</span><span class="p">,</span> <span class="s">&#39;css+genshi&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.css&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/css+genshi&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CssGenshiLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">CssLexer</span><span class="p">,</span> <span class="n">GenshiTextLexer</span><span class="p">,</span>
                                             <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">GenshiLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.05</span>

</div>
<div class="viewcode-block" id="RhtmlLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.RhtmlLexer">[docs]</a><span class="k">class</span> <span class="nc">RhtmlLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the ERB lexer that highlights the unlexed data with the</span>
<span class="sd">    html lexer.</span>

<span class="sd">    Nested Javascript and CSS is highlighted too.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;RHTML&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;rhtml&#39;</span><span class="p">,</span> <span class="s">&#39;html+erb&#39;</span><span class="p">,</span> <span class="s">&#39;html+ruby&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.rhtml&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.html&#39;</span><span class="p">,</span> <span class="s">&#39;*.htm&#39;</span><span class="p">,</span> <span class="s">&#39;*.xhtml&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/html+ruby&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">RhtmlLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">HtmlLexer</span><span class="p">,</span> <span class="n">ErbLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">ErbLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span>
        <span class="k">if</span> <span class="n">html_doctype_matches</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="c"># one more than the XmlErbLexer returns</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.5</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="XmlErbLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.XmlErbLexer">[docs]</a><span class="k">class</span> <span class="nc">XmlErbLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of `ErbLexer` which highlights data outside preprocessor</span>
<span class="sd">    directives with the `XmlLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;XML+Ruby&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;xml+erb&#39;</span><span class="p">,</span> <span class="s">&#39;xml+ruby&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.xml&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/xml+ruby&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">XmlErbLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">XmlLexer</span><span class="p">,</span> <span class="n">ErbLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">ErbLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span>
        <span class="k">if</span> <span class="n">looks_like_xml</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.4</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="CssErbLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.CssErbLexer">[docs]</a><span class="k">class</span> <span class="nc">CssErbLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of `ErbLexer` which highlights unlexed data with the `CssLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;CSS+Ruby&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;css+erb&#39;</span><span class="p">,</span> <span class="s">&#39;css+ruby&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.css&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/css+ruby&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CssErbLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">CssLexer</span><span class="p">,</span> <span class="n">ErbLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ErbLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.05</span>

</div>
<div class="viewcode-block" id="JavascriptErbLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.JavascriptErbLexer">[docs]</a><span class="k">class</span> <span class="nc">JavascriptErbLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of `ErbLexer` which highlights unlexed data with the</span>
<span class="sd">    `JavascriptLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;JavaScript+Ruby&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;js+erb&#39;</span><span class="p">,</span> <span class="s">&#39;javascript+erb&#39;</span><span class="p">,</span> <span class="s">&#39;js+ruby&#39;</span><span class="p">,</span> <span class="s">&#39;javascript+ruby&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.js&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-javascript+ruby&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/x-javascript+ruby&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/javascript+ruby&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">JavascriptErbLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">JavascriptLexer</span><span class="p">,</span> <span class="n">ErbLexer</span><span class="p">,</span>
                                                 <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ErbLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.05</span>

</div>
<div class="viewcode-block" id="HtmlPhpLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.HtmlPhpLexer">[docs]</a><span class="k">class</span> <span class="nc">HtmlPhpLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of `PhpLexer` that highlights unhandled data with the `HtmlLexer`.</span>

<span class="sd">    Nested Javascript and CSS is highlighted too.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;HTML+PHP&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;html+php&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.phtml&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.php&#39;</span><span class="p">,</span> <span class="s">&#39;*.html&#39;</span><span class="p">,</span> <span class="s">&#39;*.htm&#39;</span><span class="p">,</span> <span class="s">&#39;*.xhtml&#39;</span><span class="p">,</span>
                       <span class="s">&#39;*.php[345]&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-php&#39;</span><span class="p">,</span>
                 <span class="s">&#39;application/x-httpd-php&#39;</span><span class="p">,</span> <span class="s">&#39;application/x-httpd-php3&#39;</span><span class="p">,</span>
                 <span class="s">&#39;application/x-httpd-php4&#39;</span><span class="p">,</span> <span class="s">&#39;application/x-httpd-php5&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">HtmlPhpLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">HtmlLexer</span><span class="p">,</span> <span class="n">PhpLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">PhpLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span>
        <span class="k">if</span> <span class="n">html_doctype_matches</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.5</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="XmlPhpLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.XmlPhpLexer">[docs]</a><span class="k">class</span> <span class="nc">XmlPhpLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of `PhpLexer` that higlights unhandled data with the `XmlLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;XML+PHP&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;xml+php&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.xml&#39;</span><span class="p">,</span> <span class="s">&#39;*.php&#39;</span><span class="p">,</span> <span class="s">&#39;*.php[345]&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/xml+php&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">XmlPhpLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">XmlLexer</span><span class="p">,</span> <span class="n">PhpLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">PhpLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span>
        <span class="k">if</span> <span class="n">looks_like_xml</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.4</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="CssPhpLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.CssPhpLexer">[docs]</a><span class="k">class</span> <span class="nc">CssPhpLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of `PhpLexer` which highlights unmatched data with the `CssLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;CSS+PHP&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;css+php&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.css&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/css+php&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CssPhpLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">CssLexer</span><span class="p">,</span> <span class="n">PhpLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PhpLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.05</span>

</div>
<div class="viewcode-block" id="JavascriptPhpLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.JavascriptPhpLexer">[docs]</a><span class="k">class</span> <span class="nc">JavascriptPhpLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of `PhpLexer` which highlights unmatched data with the</span>
<span class="sd">    `JavascriptLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;JavaScript+PHP&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;js+php&#39;</span><span class="p">,</span> <span class="s">&#39;javascript+php&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.js&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-javascript+php&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/x-javascript+php&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/javascript+php&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">JavascriptPhpLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">JavascriptLexer</span><span class="p">,</span> <span class="n">PhpLexer</span><span class="p">,</span>
                                                 <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">PhpLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="HtmlSmartyLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.HtmlSmartyLexer">[docs]</a><span class="k">class</span> <span class="nc">HtmlSmartyLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `SmartyLexer` that highighlights unlexed data with the</span>
<span class="sd">    `HtmlLexer`.</span>

<span class="sd">    Nested Javascript and CSS is highlighted too.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;HTML+Smarty&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;html+smarty&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.html&#39;</span><span class="p">,</span> <span class="s">&#39;*.htm&#39;</span><span class="p">,</span> <span class="s">&#39;*.xhtml&#39;</span><span class="p">,</span> <span class="s">&#39;*.tpl&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/html+smarty&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">HtmlSmartyLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">HtmlLexer</span><span class="p">,</span> <span class="n">SmartyLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">SmartyLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span>
        <span class="k">if</span> <span class="n">html_doctype_matches</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.5</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="XmlSmartyLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.XmlSmartyLexer">[docs]</a><span class="k">class</span> <span class="nc">XmlSmartyLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `SmartyLexer` that highlights unlexed data with the</span>
<span class="sd">    `XmlLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;XML+Smarty&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;xml+smarty&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.xml&#39;</span><span class="p">,</span> <span class="s">&#39;*.tpl&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/xml+smarty&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">XmlSmartyLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">XmlLexer</span><span class="p">,</span> <span class="n">SmartyLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">SmartyLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span>
        <span class="k">if</span> <span class="n">looks_like_xml</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.4</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="CssSmartyLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.CssSmartyLexer">[docs]</a><span class="k">class</span> <span class="nc">CssSmartyLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `SmartyLexer` that highlights unlexed data with the</span>
<span class="sd">    `CssLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;CSS+Smarty&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;css+smarty&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.css&#39;</span><span class="p">,</span> <span class="s">&#39;*.tpl&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/css+smarty&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CssSmartyLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">CssLexer</span><span class="p">,</span> <span class="n">SmartyLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">SmartyLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.05</span>

</div>
<div class="viewcode-block" id="JavascriptSmartyLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.JavascriptSmartyLexer">[docs]</a><span class="k">class</span> <span class="nc">JavascriptSmartyLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `SmartyLexer` that highlights unlexed data with the</span>
<span class="sd">    `JavascriptLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;JavaScript+Smarty&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;js+smarty&#39;</span><span class="p">,</span> <span class="s">&#39;javascript+smarty&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.js&#39;</span><span class="p">,</span> <span class="s">&#39;*.tpl&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-javascript+smarty&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/x-javascript+smarty&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/javascript+smarty&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">JavascriptSmartyLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">JavascriptLexer</span><span class="p">,</span> <span class="n">SmartyLexer</span><span class="p">,</span>
                                                    <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">SmartyLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.05</span>

</div>
<div class="viewcode-block" id="HtmlDjangoLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.HtmlDjangoLexer">[docs]</a><span class="k">class</span> <span class="nc">HtmlDjangoLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `DjangoLexer` that highighlights unlexed data with the</span>
<span class="sd">    `HtmlLexer`.</span>

<span class="sd">    Nested Javascript and CSS is highlighted too.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;HTML+Django/Jinja&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;html+django&#39;</span><span class="p">,</span> <span class="s">&#39;html+jinja&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.html&#39;</span><span class="p">,</span> <span class="s">&#39;*.htm&#39;</span><span class="p">,</span> <span class="s">&#39;*.xhtml&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/html+django&#39;</span><span class="p">,</span> <span class="s">&#39;text/html+jinja&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">HtmlDjangoLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">HtmlLexer</span><span class="p">,</span> <span class="n">DjangoLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">DjangoLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span>
        <span class="k">if</span> <span class="n">html_doctype_matches</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.5</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="XmlDjangoLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.XmlDjangoLexer">[docs]</a><span class="k">class</span> <span class="nc">XmlDjangoLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `DjangoLexer` that highlights unlexed data with the</span>
<span class="sd">    `XmlLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;XML+Django/Jinja&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;xml+django&#39;</span><span class="p">,</span> <span class="s">&#39;xml+jinja&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.xml&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/xml+django&#39;</span><span class="p">,</span> <span class="s">&#39;application/xml+jinja&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">XmlDjangoLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">XmlLexer</span><span class="p">,</span> <span class="n">DjangoLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">DjangoLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span>
        <span class="k">if</span> <span class="n">looks_like_xml</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.4</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="CssDjangoLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.CssDjangoLexer">[docs]</a><span class="k">class</span> <span class="nc">CssDjangoLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `DjangoLexer` that highlights unlexed data with the</span>
<span class="sd">    `CssLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;CSS+Django/Jinja&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;css+django&#39;</span><span class="p">,</span> <span class="s">&#39;css+jinja&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.css&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/css+django&#39;</span><span class="p">,</span> <span class="s">&#39;text/css+jinja&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CssDjangoLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">CssLexer</span><span class="p">,</span> <span class="n">DjangoLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">DjangoLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.05</span>

</div>
<div class="viewcode-block" id="JavascriptDjangoLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.JavascriptDjangoLexer">[docs]</a><span class="k">class</span> <span class="nc">JavascriptDjangoLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `DjangoLexer` that highlights unlexed data with the</span>
<span class="sd">    `JavascriptLexer`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;JavaScript+Django/Jinja&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;js+django&#39;</span><span class="p">,</span> <span class="s">&#39;javascript+django&#39;</span><span class="p">,</span>
               <span class="s">&#39;js+jinja&#39;</span><span class="p">,</span> <span class="s">&#39;javascript+jinja&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.js&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-javascript+django&#39;</span><span class="p">,</span>
                 <span class="s">&#39;application/x-javascript+jinja&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/x-javascript+django&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/x-javascript+jinja&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/javascript+django&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/javascript+jinja&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">JavascriptDjangoLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">JavascriptLexer</span><span class="p">,</span> <span class="n">DjangoLexer</span><span class="p">,</span>
                                                    <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">DjangoLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.05</span>

</div>
<span class="k">class</span> <span class="nc">JspRootLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base for the `JspLexer`. Yields `Token.Other` for area outside of</span>
<span class="sd">    JSP tags.</span>

<span class="sd">    *New in Pygments 0.7.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;&lt;%\S?&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;sec&#39;</span><span class="p">),</span>
            <span class="c"># FIXME: I want to make these keywords but still parse attributes.</span>
            <span class="p">(</span><span class="s">r&#39;&lt;/?jsp:(forward|getProperty|include|plugin|setProperty|useBean).*?&gt;&#39;</span><span class="p">,</span>
             <span class="n">Keyword</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^&lt;]+&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;sec&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;%&gt;&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="c"># note: &#39;\w\W&#39; != &#39;.&#39; without DOTALL.</span>
            <span class="p">(</span><span class="s">r&#39;[\w\W]+?(?=%&gt;|\Z)&#39;</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">JavaLexer</span><span class="p">)),</span>
        <span class="p">],</span>
    <span class="p">}</span>


<div class="viewcode-block" id="JspLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.JspLexer">[docs]</a><span class="k">class</span> <span class="nc">JspLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Lexer for Java Server Pages.</span>

<span class="sd">    *New in Pygments 0.7.*</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Java Server Page&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;jsp&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.jsp&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-jsp&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">JspLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">XmlLexer</span><span class="p">,</span> <span class="n">JspRootLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">JavaLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span>
        <span class="k">if</span> <span class="n">looks_like_xml</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.4</span>
        <span class="k">if</span> <span class="s">&#39;&lt;%&#39;</span> <span class="ow">in</span> <span class="n">text</span> <span class="ow">and</span> <span class="s">&#39;%&gt;&#39;</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.1</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="EvoqueLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.EvoqueLexer">[docs]</a><span class="k">class</span> <span class="nc">EvoqueLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    For files using the Evoque templating system.</span>

<span class="sd">    *New in Pygments 1.1.*</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Evoque&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;evoque&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.evoque&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-evoque&#39;</span><span class="p">]</span>

    <span class="n">flags</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">DOTALL</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;[^#$]+&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;#\[&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">,</span> <span class="s">&#39;comment&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\$\$&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
            <span class="c"># svn keywords</span>
            <span class="p">(</span><span class="s">r&#39;\$\w+:[^$\n]*\$&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">),</span>
            <span class="c"># directives: begin, end</span>
            <span class="p">(</span><span class="s">r&#39;(\$)(begin|end)(\{(%)?)(.*?)((?(4)%)\})&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Punctuation</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
                      <span class="n">String</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">)),</span>
            <span class="c"># directives: evoque, overlay</span>
            <span class="c"># see doc for handling first name arg: /directives/evoque/</span>
            <span class="c">#+ minor inconsistency: the &quot;name&quot; in e.g. $overlay{name=site_base}</span>
            <span class="c"># should be using(PythonLexer), not passed out as String</span>
            <span class="p">(</span><span class="s">r&#39;(\$)(evoque|overlay)(\{(%)?)(\s*[#\w\-&quot;</span><span class="se">\&#39;</span><span class="s">.]+[^=,%}]+?)?&#39;</span>
             <span class="s">r&#39;(.*?)((?(4)%)\})&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Punctuation</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
                      <span class="n">String</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">Punctuation</span><span class="p">)),</span>
            <span class="c"># directives: if, for, prefer, test</span>
            <span class="p">(</span><span class="s">r&#39;(\$)(\w+)(\{(%)?)(.*?)((?(4)%)\})&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Punctuation</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span>
                      <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span> <span class="n">Punctuation</span><span class="p">)),</span>
            <span class="c"># directive clauses (no {} expression)</span>
            <span class="p">(</span><span class="s">r&#39;(\$)(else|rof|fi)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Punctuation</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">)),</span>
            <span class="c"># expressions</span>
            <span class="p">(</span><span class="s">r&#39;(\$\{(%)?)(.*?)((!)(.*?))?((?(2)%)\})&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Punctuation</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">PythonLexer</span><span class="p">),</span>
                      <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;#&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;comment&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;[^\]#]&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;#\[&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">,</span> <span class="s">&#39;#push&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\]#&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[\]#]&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">)</span>
        <span class="p">],</span>
    <span class="p">}</span>
</div>
<div class="viewcode-block" id="EvoqueHtmlLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.EvoqueHtmlLexer">[docs]</a><span class="k">class</span> <span class="nc">EvoqueHtmlLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `EvoqueLexer` that highlights unlexed data with the</span>
<span class="sd">    `HtmlLexer`.</span>

<span class="sd">    *New in Pygments 1.1.*</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;HTML+Evoque&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;html+evoque&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.html&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/html+evoque&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">EvoqueHtmlLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">HtmlLexer</span><span class="p">,</span> <span class="n">EvoqueLexer</span><span class="p">,</span>
                                              <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="EvoqueXmlLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.EvoqueXmlLexer">[docs]</a><span class="k">class</span> <span class="nc">EvoqueXmlLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `EvoqueLexer` that highlights unlexed data with the</span>
<span class="sd">    `XmlLexer`.</span>

<span class="sd">    *New in Pygments 1.1.*</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;XML+Evoque&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;xml+evoque&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.xml&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/xml+evoque&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">EvoqueXmlLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">XmlLexer</span><span class="p">,</span> <span class="n">EvoqueLexer</span><span class="p">,</span>
                                             <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="ColdfusionLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.ColdfusionLexer">[docs]</a><span class="k">class</span> <span class="nc">ColdfusionLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Coldfusion statements</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;cfstatement&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;cfs&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">flags</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span> <span class="o">|</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;//.*&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\+\+|--&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[-+*/^&amp;=!]&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;=|&gt;=|&lt;|&gt;&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;mod\b&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(eq|lt|gt|lte|gte|not|is|and|or)\b&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\|\||&amp;&amp;&#39;</span><span class="p">,</span> <span class="n">Operator</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">,</span> <span class="s">&#39;string&#39;</span><span class="p">),</span>
            <span class="c"># There is a special rule for allowing html in single quoted</span>
            <span class="c"># strings, evidently.</span>
            <span class="p">(</span><span class="s">r&quot;&#39;.*?&#39;&quot;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Single</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\d+&#39;</span><span class="p">,</span> <span class="n">Number</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(if|else|len|var|case|default|break|switch)\b&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;([A-Za-z_$][A-Za-z0-9_.]*)(\s*)(\()&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Function</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">)),</span>
            <span class="p">(</span><span class="s">r&#39;[A-Za-z_$][A-Za-z0-9_.]*&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Variable</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[()\[\]{};:,.</span><span class="se">\\</span><span class="s">]&#39;</span><span class="p">,</span> <span class="n">Punctuation</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;\s+&#39;</span><span class="p">,</span> <span class="n">Text</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;string&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;&quot;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;#.+?#&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Interp</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^&quot;#]+&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;#&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&quot;&#39;</span><span class="p">,</span> <span class="n">String</span><span class="o">.</span><span class="n">Double</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
        <span class="p">],</span>
    <span class="p">}</span>

</div>
<span class="k">class</span> <span class="nc">ColdfusionMarkupLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Coldfusion markup only</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Coldfusion&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;cf&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;[^&lt;]+&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;tags&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;[^&lt;&gt;]*&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="s">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;(?s)&lt;!---.*?---&gt;&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="o">.</span><span class="n">Multiline</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?s)&lt;!--.*?--&gt;&#39;</span><span class="p">,</span> <span class="n">Comment</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;cfoutput.*?&gt;&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">,</span> <span class="s">&#39;cfoutput&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?s)(&lt;cfscript.*?&gt;)(.+?)(&lt;/cfscript.*?&gt;)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">ColdfusionLexer</span><span class="p">),</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">)),</span>
            <span class="c"># negative lookbehind is for strings with embedded &gt;</span>
            <span class="p">(</span><span class="s">r&#39;(?s)(&lt;/?cf(?:component|include|if|else|elseif|loop|return|&#39;</span>
             <span class="s">r&#39;dbinfo|dump|abort|location|invoke|throw|file|savecontent|&#39;</span>
             <span class="s">r&#39;mailpart|mail|header|content|zip|image|lock|argument|try|&#39;</span>
             <span class="s">r&#39;catch|break|directory|http|set|function|param)\b)(.*?)((?&lt;!</span><span class="se">\\</span><span class="s">)&gt;)&#39;</span><span class="p">,</span>
             <span class="n">bygroups</span><span class="p">(</span><span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">ColdfusionLexer</span><span class="p">),</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">)),</span>
        <span class="p">],</span>
        <span class="s">&#39;cfoutput&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;[^#&lt;]+&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(#)(.*?)(#)&#39;</span><span class="p">,</span> <span class="n">bygroups</span><span class="p">(</span><span class="n">Punctuation</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">ColdfusionLexer</span><span class="p">),</span>
                                      <span class="n">Punctuation</span><span class="p">)),</span>
            <span class="c">#(r&#39;&lt;cfoutput.*?&gt;&#39;, Name.Builtin, &#39;#push&#39;),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;/cfoutput.*?&gt;&#39;</span><span class="p">,</span> <span class="n">Name</span><span class="o">.</span><span class="n">Builtin</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="n">include</span><span class="p">(</span><span class="s">&#39;tags&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;(?s)&lt;[^&lt;&gt;]*&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;#&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
        <span class="p">],</span>
    <span class="p">}</span>


<div class="viewcode-block" id="ColdfusionHtmlLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.ColdfusionHtmlLexer">[docs]</a><span class="k">class</span> <span class="nc">ColdfusionHtmlLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Coldfusion markup in html</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Coldfusion HTML&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;cfm&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.cfm&#39;</span><span class="p">,</span> <span class="s">&#39;*.cfml&#39;</span><span class="p">,</span> <span class="s">&#39;*.cfc&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-coldfusion&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ColdfusionHtmlLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">HtmlLexer</span><span class="p">,</span> <span class="n">ColdfusionMarkupLexer</span><span class="p">,</span>
                                                  <span class="o">**</span><span class="n">options</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="SspLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.SspLexer">[docs]</a><span class="k">class</span> <span class="nc">SspLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Lexer for Scalate Server Pages.</span>

<span class="sd">    *New in Pygments 1.4.*</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Scalate Server Page&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;ssp&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.ssp&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-ssp&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SspLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">XmlLexer</span><span class="p">,</span> <span class="n">JspRootLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="mf">0.0</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;val \w+\s*:&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.6</span>
        <span class="k">if</span> <span class="n">looks_like_xml</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.2</span>
        <span class="k">if</span> <span class="s">&#39;&lt;%&#39;</span> <span class="ow">in</span> <span class="n">text</span> <span class="ow">and</span> <span class="s">&#39;%&gt;&#39;</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.1</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<span class="k">class</span> <span class="nc">TeaTemplateRootLexer</span><span class="p">(</span><span class="n">RegexLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base for the `TeaTemplateLexer`. Yields `Token.Other` for area outside of</span>
<span class="sd">    code blocks.</span>

<span class="sd">    *New in Pygments 1.5.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">tokens</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s">&#39;root&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;&lt;%\S?&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;sec&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;[^&lt;]+&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
            <span class="p">(</span><span class="s">r&#39;&lt;&#39;</span><span class="p">,</span> <span class="n">Other</span><span class="p">),</span>
            <span class="p">],</span>
        <span class="s">&#39;sec&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">r&#39;%&gt;&#39;</span><span class="p">,</span> <span class="n">Keyword</span><span class="p">,</span> <span class="s">&#39;#pop&#39;</span><span class="p">),</span>
            <span class="c"># note: &#39;\w\W&#39; != &#39;.&#39; without DOTALL.</span>
            <span class="p">(</span><span class="s">r&#39;[\w\W]+?(?=%&gt;|\Z)&#39;</span><span class="p">,</span> <span class="n">using</span><span class="p">(</span><span class="n">TeaLangLexer</span><span class="p">)),</span>
            <span class="p">],</span>
        <span class="p">}</span>


<div class="viewcode-block" id="TeaTemplateLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.TeaTemplateLexer">[docs]</a><span class="k">class</span> <span class="nc">TeaTemplateLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Lexer for `Tea Templates &lt;http://teatrove.org/&gt;`_.</span>

<span class="sd">    *New in Pygments 1.5.*</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;Tea&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;tea&#39;</span><span class="p">]</span>
    <span class="n">filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.tea&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/x-tea&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">TeaTemplateLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">XmlLexer</span><span class="p">,</span>
                                               <span class="n">TeaTemplateRootLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">TeaLangLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.01</span>
        <span class="k">if</span> <span class="n">looks_like_xml</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.4</span>
        <span class="k">if</span> <span class="s">&#39;&lt;%&#39;</span> <span class="ow">in</span> <span class="n">text</span> <span class="ow">and</span> <span class="s">&#39;%&gt;&#39;</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.1</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="LassoHtmlLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.LassoHtmlLexer">[docs]</a><span class="k">class</span> <span class="nc">LassoHtmlLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `LassoLexer` which highlights unhandled data with the</span>
<span class="sd">    `HtmlLexer`.</span>

<span class="sd">    Nested JavaScript and CSS is also highlighted.</span>

<span class="sd">    *New in Pygments 1.6.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;HTML+Lasso&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;html+lasso&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.html&#39;</span><span class="p">,</span> <span class="s">&#39;*.htm&#39;</span><span class="p">,</span> <span class="s">&#39;*.xhtml&#39;</span><span class="p">,</span> <span class="s">&#39;*.lasso&#39;</span><span class="p">,</span> <span class="s">&#39;*.lasso[89]&#39;</span><span class="p">,</span>
                       <span class="s">&#39;*.incl&#39;</span><span class="p">,</span> <span class="s">&#39;*.inc&#39;</span><span class="p">,</span> <span class="s">&#39;*.las&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/html+lasso&#39;</span><span class="p">,</span>
                 <span class="s">&#39;application/x-httpd-lasso&#39;</span><span class="p">,</span>
                 <span class="s">&#39;application/x-httpd-lasso[89]&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">LassoHtmlLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">HtmlLexer</span><span class="p">,</span> <span class="n">LassoLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">LassoLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;&lt;\w+&gt;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.2</span>
        <span class="k">if</span> <span class="n">html_doctype_matches</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.5</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="LassoXmlLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.LassoXmlLexer">[docs]</a><span class="k">class</span> <span class="nc">LassoXmlLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `LassoLexer` which highlights unhandled data with the</span>
<span class="sd">    `XmlLexer`.</span>

<span class="sd">    *New in Pygments 1.6.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;XML+Lasso&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;xml+lasso&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.xml&#39;</span><span class="p">,</span> <span class="s">&#39;*.lasso&#39;</span><span class="p">,</span> <span class="s">&#39;*.lasso[89]&#39;</span><span class="p">,</span>
                       <span class="s">&#39;*.incl&#39;</span><span class="p">,</span> <span class="s">&#39;*.inc&#39;</span><span class="p">,</span> <span class="s">&#39;*.las&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/xml+lasso&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">LassoXmlLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">XmlLexer</span><span class="p">,</span> <span class="n">LassoLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">LassoLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">looks_like_xml</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.5</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="LassoCssLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.LassoCssLexer">[docs]</a><span class="k">class</span> <span class="nc">LassoCssLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `LassoLexer` which highlights unhandled data with the</span>
<span class="sd">    `CssLexer`.</span>

<span class="sd">    *New in Pygments 1.6.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;CSS+Lasso&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;css+lasso&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.css&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;text/css+lasso&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="n">options</span><span class="p">[</span><span class="s">&#39;requiredelimiters&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">LassoCssLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">CssLexer</span><span class="p">,</span> <span class="n">LassoLexer</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">LassoLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">r&#39;\w+:.+;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.1</span>
        <span class="k">if</span> <span class="s">&#39;padding:&#39;</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.1</span>
        <span class="k">return</span> <span class="n">rv</span>

</div>
<div class="viewcode-block" id="LassoJavascriptLexer"><a class="viewcode-back" href="../../../lexers/templates.html#pygments.lexers.templates.LassoJavascriptLexer">[docs]</a><span class="k">class</span> <span class="nc">LassoJavascriptLexer</span><span class="p">(</span><span class="n">DelegatingLexer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Subclass of the `LassoLexer` which highlights unhandled data with the</span>
<span class="sd">    `JavascriptLexer`.</span>

<span class="sd">    *New in Pygments 1.6.*</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;JavaScript+Lasso&#39;</span>
    <span class="n">aliases</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;js+lasso&#39;</span><span class="p">,</span> <span class="s">&#39;javascript+lasso&#39;</span><span class="p">]</span>
    <span class="n">alias_filenames</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;*.js&#39;</span><span class="p">]</span>
    <span class="n">mimetypes</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;application/x-javascript+lasso&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/x-javascript+lasso&#39;</span><span class="p">,</span>
                 <span class="s">&#39;text/javascript+lasso&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
        <span class="n">options</span><span class="p">[</span><span class="s">&#39;requiredelimiters&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">LassoJavascriptLexer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">JavascriptLexer</span><span class="p">,</span> <span class="n">LassoLexer</span><span class="p">,</span>
                                                   <span class="o">**</span><span class="n">options</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
        <span class="n">rv</span> <span class="o">=</span> <span class="n">LassoLexer</span><span class="o">.</span><span class="n">analyse_text</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="s">&#39;function&#39;</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span>
            <span class="n">rv</span> <span class="o">+=</span> <span class="mf">0.2</span>
        <span class="k">return</span> <span class="n">rv</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../../index.html">pygments-doc 1.1.3 documentation</a> &raquo;</li>
          <li><a href="../../index.html" >Module code</a> &raquo;</li>
          <li><a href="../../pygments.html" >pygments</a> &raquo;</li>
          <li><a href="../lexers.html" >pygments.lexers</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Turbidsoul Chen.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>